
<!DOCTYPE html><html lang="zh_cn">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.28.0" theme-name="Stellar" theme-version="1.28.0">
  
  <meta name="generator" content="Hexo 8.1.1">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f9fafb">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000">
  
  <title>mysql学习 - Timous</title>

  
    <meta name="description" content="MySQL1、初始MySQLjavaEE： 企业级开发  web 前端（页面渲染，展示 数据） 后台（连接点： 连接数据库 jdbc  mybatis 连接前端（控制视图的跳转，给前端传递数据））  数据库（存取数据） 1.1为什么学习数据库1.岗位需求 2.现在的世界，大数据时代—mysql集群，得数据者得天下，没有隐私 3.被迫需求：存数据 去IOE 不用国外的 4.&#x3D;&#x3D;数">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql学习">
<meta property="og:url" content="http://example.com/2022/01/01/mysql%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Timous">
<meta property="og:description" content="MySQL1、初始MySQLjavaEE： 企业级开发  web 前端（页面渲染，展示 数据） 后台（连接点： 连接数据库 jdbc  mybatis 连接前端（控制视图的跳转，给前端传递数据））  数据库（存取数据） 1.1为什么学习数据库1.岗位需求 2.现在的世界，大数据时代—mysql集群，得数据者得天下，没有隐私 3.被迫需求：存数据 去IOE 不用国外的 4.&#x3D;&#x3D;数">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112038778.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112038774.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112038276.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039318.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039098.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039440.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039007.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039465.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039762.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039602.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039472.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039617.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039606.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039368.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039359.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039321.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040129.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040709.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040359.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040943.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040419.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040822.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040315.png">
<meta property="og:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040237.png">
<meta property="article:published_time" content="2022-01-01T04:53:53.000Z">
<meta property="article:modified_time" content="2026-01-11T12:40:40.179Z">
<meta property="article:author" content="timous">
<meta property="article:tag" content="数据库">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112038778.png">
  
  
  
  <meta name="keywords" content="数据库">

  <!-- feed -->
  

  <link rel="stylesheet" href="/css/main.css?v=1.28.0">

  

  

  
</head>
<body>

<div class="l_body s:aa content tech" id="start" layout="post" ><aside class="l_left"><div class="leftbar-container">


<header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601111717625.jpg" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">Timous</div></a></div></header>

<div class="nav-area">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" placeholder="站內搜索"></form><div id="search-result"></div><div class="search-no-result">沒有找到內容！</div></div>


<nav class="menu dis-select"></nav>
</div>
<div class="widgets">


<widget class="widget-wrapper post-list"><div class="widget-header dis-select"><span class="name">最近更新</span></div><div class="widget-body fs14"><a class="item title" href="/2022/01/02/redis%E5%88%9D%E6%AD%A5%E5%AD%A6%E4%B9%A0/"><span class="title">redis初步学习</span></a><a class="item title" href="/2021/04/13/Nginx%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/"><span class="title">Nginx安装及配置详解</span></a><a class="item title" href="/2022/01/01/mysql%E5%AD%A6%E4%B9%A0/"><span class="title">mysql学习</span></a><a class="item title" href="/2022/01/06/mybatisplus%E5%AD%A6%E4%B9%A0/"><span class="title">mybatisplus学习</span></a><a class="item title" href="/2021/05/10/mp%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE/"><span class="title">mp逻辑删除数据</span></a><a class="item title" href="/2021/04/01/Lock%E4%B9%8B8%E9%94%81%E8%AF%A6%E8%A7%A3/"><span class="title">Lock之8锁详解</span></a><a class="item title" href="/2022/01/03/shadingJDBC/"><span class="title">shadingJDBC</span></a><a class="item title" href="/2022/01/14/linux%E5%AE%89%E8%A3%85mysql8/"><span class="title">linux安装mysql8</span></a><a class="item title" href="/2022/01/12/leetcode%E7%AC%94%E8%AF%95%E9%A2%98/"><span class="title">leetcode笔试题</span></a><a class="item title" href="/2022/01/10/jvm%E5%AD%A6%E4%B9%A0/"><span class="title">jvm学习</span></a></div></widget>
</div>

</div></aside><div class="l_main" id="main">





<div class="article banner top">
  <div class="content">
    <div class="top bread-nav footnote"><div class="left"><div class="flex-row" id="breadcrumb"><a class="cap breadcrumb" href="/">首頁</a>
<span class="sep"></span><a class="cap breadcrumb" href="/">網誌</a></div>
<div class="flex-row" id="post-meta"><span class="text created">發布於：<time datetime="2022-01-01T04:53:53.000Z">2022-01-01</time></span><span class="sep updated"></span><span class="text updated">更新於：<time datetime="2026-01-11T12:40:40.179Z">2026-01-11</time></span></div></div></div>
    
    <div class="bottom only-title">
      
      <div class="text-area">
        <h1 class="text title"><span>mysql学习</span></h1>
        
      </div>
    </div>
    
  </div>
  </div><article class="md-text content"><h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><h2 id="1、初始MySQL"><a href="#1、初始MySQL" class="headerlink" title="1、初始MySQL"></a>1、初始MySQL</h2><p>javaEE： 企业级开发  web</p>
<p>前端（页面渲染，展示 数据）</p>
<p>后台（连接点： 连接数据库 jdbc  mybatis 连接前端（控制视图的跳转，给前端传递数据））</p>
<p> 数据库（存取数据）</p>
<h3 id="1-1为什么学习数据库"><a href="#1-1为什么学习数据库" class="headerlink" title="1.1为什么学习数据库"></a>1.1为什么学习数据库</h3><p>1.岗位需求</p>
<p>2.现在的世界，大数据时代—mysql集群，得数据者得天下，没有隐私</p>
<p>3.被迫需求：存数据 去IOE 不用国外的</p>
<p>4.&#x3D;&#x3D;数据库是所有软件体系中最核心的存在&#x3D;&#x3D;DBA（数据库管理员）</p>
<h3 id="1-2什么是数据库"><a href="#1-2什么是数据库" class="headerlink" title="1.2什么是数据库"></a>1.2什么是数据库</h3><p>数据库（DataBase）</p>
<p>概念： 数据仓库， 存储数据 &#x3D;&#x3D;软件&#x3D;&#x3D;， 安装在操作系统之上的  sql 可以存储大量的数据 </p>
<p>作用： 存数据，管理数据</p>
<h3 id="1-3数据库分类"><a href="#1-3数据库分类" class="headerlink" title="1.3数据库分类"></a>1.3数据库分类</h3><h5 id="关系型数据库：-Excle（SQL）"><a href="#关系型数据库：-Excle（SQL）" class="headerlink" title="关系型数据库： Excle（SQL）"></a>关系型数据库： Excle（SQL）</h5><ul>
<li>Mysql、oracle、 sql server、DB2、SQLLite</li>
<li>通过表和表之间，行和列之间的关系进行数据的存储，学院信息表  考勤表</li>
</ul>
<h5 id="非关系型数据库：-json-（key-：-value）（NoSQL-不仅仅是sql）"><a href="#非关系型数据库：-json-（key-：-value）（NoSQL-不仅仅是sql）" class="headerlink" title="非关系型数据库： json  （key ： value）（NoSQL 不仅仅是sql）"></a>非关系型数据库： json  （key ： value）（NoSQL 不仅仅是sql）</h5><ul>
<li>redis、mongdb</li>
<li>非关系型数据库, 对象存储，通过对象的自身的属性来决定</li>
</ul>
<p>&#x3D;&#x3D;DBMS（数据库管理系统）&#x3D;&#x3D;</p>
<ul>
<li>数据库管理软件，科学有效的管理我们的数据，维护和获取数据；</li>
<li>MySQL，本质是一个数据库管理系统！</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112038778.png" alt="image-20200905202216332"></p>
<h3 id="1-4MySQL简介"><a href="#1-4MySQL简介" class="headerlink" title="1.4MySQL简介"></a>1.4MySQL简介</h3><p>&#x3D;&#x3D;MySQL是一个**<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/696511">关系型数据库管理系统</a>****&#x3D;&#x3D;，**由瑞典MySQL AB 公司开发，属于 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Oracle">Oracle</a> 旗下产品。MySQL 是最流行的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/696511">关系型数据库管理系统</a>之一，在 WEB 应用方面，MySQL是最好的 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/RDBMS/1048260">RDBMS</a> (Relational Database Management System，关系数据库管理系统) 应用软件之一。</p>
<p>MySQL是一种关系型数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。</p>
<p>MySQL所使用的 SQL 语言是用于访问<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93/103728">数据库</a>的最常用标准化语言。MySQL 软件采用了双授权政策，分为&#x3D;&#x3D;社区版&#x3D;&#x3D;和&#x3D;&#x3D;商业版&#x3D;&#x3D;，由于其&#x3D;&#x3D;体积小、速度快、总体拥有成本低&#x3D;&#x3D;，尤其是<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E6%BA%90%E7%A0%81/7176422">开放源码</a>这一特点，一般&#x3D;&#x3D;中小型网站的开发都选择 MySQL 作为网站数据库&#x3D;&#x3D;。也可以用于大型网站</p>
<p>前世：由瑞典MySQL AB 公司开发</p>
<p>今生：属于 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Oracle">Oracle</a> 旗下产品</p>
<p>MySQL是最好的 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/RDBMS/1048260">RDBMS</a> (Relational Database Management System，关系数据库管理系统) 应用软件之一，开源的数据库软件</p>
<p>5.7 版本稳定 8.0也可以</p>
<p>官网：<a target="_blank" rel="noopener" href="https://www.mysql.com/">https://www.mysql.com/</a></p>
<p>官网下载地址：<a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p>
<p>安装建议 ： </p>
<ol>
<li>尽量不要使用.exe文件</li>
<li>尽可能使用安装包安装</li>
</ol>
<h3 id="1-5安装MySQL"><a href="#1-5安装MySQL" class="headerlink" title="1.5安装MySQL"></a>1.5安装MySQL</h3><p>1.解压安装包</p>
<p>2.配置环境变量 新加path就行</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112038774.png" alt="image-20200905204652907"></p>
<p>3.新建mysql配置文件ini， 把文件的扩展名打开</p>
<p>my.ini</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112038276.png" alt="image-20200905204810007"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置3306端口</span></span><br><span class="line"></span><br><span class="line">port=3306</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置mysql的安装目录</span></span><br><span class="line"></span><br><span class="line">basedir=D:\\mysql\mysql-8.0.18-winx64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切记此处一定要用双斜杠\\，单斜杠这里会出错。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置mysql数据库的数据的存放目录</span></span><br><span class="line"></span><br><span class="line">datadir=D:\\mysql\mysql-8.0.18-winx64\\Data</span><br><span class="line"><span class="comment"># 此处同上</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许最大连接数</span></span><br><span class="line"></span><br><span class="line">max_connections=200</span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统</span></span><br><span class="line"></span><br><span class="line">max_connect_errors=10</span><br><span class="line"></span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为UTF8</span></span><br><span class="line"></span><br><span class="line">character-set-server=utf8</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建新表时将使用的默认存储引擎</span></span><br><span class="line"></span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认使用“mysql_native_password”插件认证</span></span><br><span class="line">default_authentication_plugin=mysql_native_password</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置mysql客户端默认字符集</span></span><br><span class="line"></span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置mysql客户端连接服务端时默认使用的端口</span></span><br><span class="line"></span><br><span class="line">port=3306</span><br><span class="line"></span><br><span class="line">default-character-set=utf8</span><br></pre></td></tr></table></figure>

<p>4.管理员模式，打开所有的东西</p>
<p>5.进入bin目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装mysql服务</span></span><br><span class="line">mysqld -install</span><br><span class="line"><span class="comment"># 初始化数据问价</span></span><br><span class="line">mysqld --initialize-insecure --user=mysql</span><br><span class="line"><span class="comment"># 启动mysql 服务</span></span><br><span class="line">net start mysql  <span class="comment"># 会显示mysql启动成功</span></span><br></pre></td></tr></table></figure>

<p>6.进入mysql修改密码<code>update user set password=password(&quot;123456&quot;) where user=&quot;root&quot;;  flush privileges;</code>注释跳过密码</p>
<p>7.重启服务，然后进行登录<code>mysql -uroot -p123456</code>sql后面一定要加上分号</p>
<p>8.<code>sc delete mysql</code>清空服务</p>
<h3 id="1-6无脑安装sqlyog"><a href="#1-6无脑安装sqlyog" class="headerlink" title="1.6无脑安装sqlyog"></a>1.6无脑安装sqlyog</h3><p>一些简单的操作</p>
<p>创建数据库</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039318.png" alt="image-20200905215810655"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039098.png" alt="image-20200905220157007"></p>
<p>1.7连接数据库</p>
<p>命令行连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>uroot <span class="operator">-</span>p123456 <span class="comment">--连接数据库</span></span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> authentication_string<span class="operator">=</span>password(<span class="string">&#x27;123456&#x27;</span>) <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span> <span class="keyword">and</span> Host <span class="operator">=</span> <span class="string">&#x27;localhost&#x27;</span>; <span class="comment">-- 修改用户的密码</span></span><br><span class="line">flush privileges;` <span class="comment">-- 刷新权限</span></span><br><span class="line"><span class="comment">-- 所有的语句都用分号结尾</span></span><br><span class="line"><span class="comment">-------------------------</span></span><br><span class="line"><span class="keyword">show</span> databases; <span class="comment">--   查询所有的数据库</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> use `school`; <span class="comment">-- 切换数据库</span></span><br><span class="line">Database changed</span><br><span class="line"><span class="keyword">show</span> tables; <span class="comment">--查看数据库中所以的表</span></span><br><span class="line"><span class="keyword">describe</span> student; <span class="comment">-- 显示表中所有的字段的信息</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-------------------------</span></span><br><span class="line"><span class="keyword">create</span> database mytest; <span class="comment">-- 创建一个数据库</span></span><br><span class="line"></span><br><span class="line">exit; <span class="comment">-- 退出连接</span></span><br><span class="line"></span><br><span class="line"># 是sqlyog 的注释  <span class="comment">-- 是sql的注释  </span></span><br><span class="line"><span class="comment">/**/</span> 是多行注释</span><br><span class="line"><span class="comment">--  单行注释</span></span><br></pre></td></tr></table></figure>

<p>数据库xxx语言增删改查  cv程序员  api程序员  crud业务程序员</p>
<p>DDL： &#x3D;&#x3D;数据库定义语言&#x3D;&#x3D;</p>
<p>DML： &#x3D;&#x3D;数据库操作语言&#x3D;&#x3D;</p>
<p>DQL： &#x3D;&#x3D;数据库查询语言&#x3D;&#x3D;（核心一般是查询语言）</p>
<p>DCL：&#x3D;&#x3D;数据库控制语言&#x3D;&#x3D;</p>
<h2 id="2-操作数据库"><a href="#2-操作数据库" class="headerlink" title="2.操作数据库"></a>2.操作数据库</h2><p>mysql的关键字不区分大小写</p>
<blockquote>
<p>操作数据库&gt;操作数据库中的表&gt;操作数据库表中的数据</p>
</blockquote>
<h3 id="2-1操作数据库（了解，操作一遍就可以了）"><a href="#2-1操作数据库（了解，操作一遍就可以了）" class="headerlink" title="2.1操作数据库（了解，操作一遍就可以了）"></a>2.1操作数据库（了解，操作一遍就可以了）</h3><p>1.创建数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> mytest;</span><br></pre></td></tr></table></figure>

<p>2.删除数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> mytest;</span><br></pre></td></tr></table></figure>

<p>3.使用数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE school;</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;注意： 如果是使用关键词来表示数据库，那么需要加一个&#96;来进行转移义&#x3D;&#x3D;</p>
<p>4.查看数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES; <span class="comment">-- 展示所有的数据库</span></span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;对比sqlyog的可视化操作&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;学习思路： 不会的操作对比sqlyog操作&#x3D;&#x3D;</p>
<h3 id="2-2数据库的数据列类型"><a href="#2-2数据库的数据列类型" class="headerlink" title="2.2数据库的数据列类型"></a>2.2数据库的数据列类型</h3><blockquote>
<p>数值</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">tinyint</th>
<th align="center">十分小的类型</th>
<th align="center">1个字节</th>
</tr>
</thead>
<tbody><tr>
<td align="center">smallint</td>
<td align="center">比较小的类型</td>
<td align="center">2个字节</td>
</tr>
<tr>
<td align="center">mediumint</td>
<td align="center">中等大小的数据</td>
<td align="center">3个字节</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;int&#x3D;&#x3D;</td>
<td align="center">标准的整数</td>
<td align="center">4个字节&#x3D;&#x3D;后面的括号里面的数字表示的是最大的显示的宽度&#x3D;&#x3D;</td>
</tr>
<tr>
<td align="center">bigint</td>
<td align="center">较大的数据</td>
<td align="center">8个字节</td>
</tr>
<tr>
<td align="center">float</td>
<td align="center">单精度浮点数</td>
<td align="center">4个字节</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;double&#x3D;&#x3D;</td>
<td align="center">双精度浮点数</td>
<td align="center">8个字节</td>
</tr>
<tr>
<td align="center">decimal</td>
<td align="center">字符串的浮点数</td>
<td align="center">（金融计算的时候一般使用这个类型）</td>
</tr>
</tbody></table>
<blockquote>
<p>字符串</p>
</blockquote>
<table>
<thead>
<tr>
<th>char</th>
<th>字符串固定大小</th>
<th>0-255</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;&#x3D;varchar&#x3D;&#x3D;</td>
<td>字符串可变长度</td>
<td>0-65535（String）</td>
</tr>
<tr>
<td>tinytext</td>
<td>微型文本</td>
<td>2^8-1</td>
</tr>
<tr>
<td>text</td>
<td>文本串</td>
<td>2^16-1(大文本)</td>
</tr>
</tbody></table>
<blockquote>
<p>时间和日期</p>
</blockquote>
<table>
<thead>
<tr>
<th>date</th>
<th>YYYY-MM-DD</th>
<th>日期</th>
</tr>
</thead>
<tbody><tr>
<td>time</td>
<td>HH:mm:ss</td>
<td>时间格式</td>
</tr>
<tr>
<td>&#x3D;&#x3D;datetime&#x3D;&#x3D;</td>
<td>YYYY-MM-DD  HH:mm:ss</td>
<td>最常用的时间格式</td>
</tr>
<tr>
<td>&#x3D;&#x3D;timestamp&#x3D;&#x3D;</td>
<td>时间戳</td>
<td>1970-1-1到现在的毫秒数</td>
</tr>
<tr>
<td>year</td>
<td>年份表示</td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p>null</p>
</blockquote>
<p>没有值，未知，不要使用null进行运算，结果为null</p>
<h3 id="2-3数据库的字段属性（重点）"><a href="#2-3数据库的字段属性（重点）" class="headerlink" title="2.3数据库的字段属性（重点）"></a>2.3数据库的字段属性（重点）</h3><table>
<thead>
<tr>
<th align="center">Unsigned</th>
<th align="center">无符号证书整数</th>
<th align="center">声明了该列不能为负数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Zerofill？</td>
<td align="center">0填充的</td>
<td align="center">不足的位数，用0来进行填充</td>
</tr>
<tr>
<td align="center">自增</td>
<td align="center">通常理解为自增，自动在上一条记录的基础上加一</td>
<td align="center">通常用来设置唯一的主键，必须是证书类型，可以自定义设置起始值</td>
</tr>
<tr>
<td align="center">非空 Null notnull</td>
<td align="center">假设设置为not null，如果不给他赋值，就会报错</td>
<td align="center">null如果不填充，就是null</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">设置默认值</td>
<td align="center">如果不指定该列的值，它会是默认的值</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*每一个表都必须存在以下五个字段,表示每个记录存在的意义*/</span></span><br><span class="line">id 主键</span><br><span class="line">`version` 乐观锁</span><br><span class="line">is_delete 伪删除</span><br><span class="line">gmt_create 创建时间</span><br><span class="line">gmt_update 修改时间</span><br></pre></td></tr></table></figure>

<h3 id="2-4创建数据库表"><a href="#2-4创建数据库表" class="headerlink" title="2.4创建数据库表"></a>2.4创建数据库表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">使用英文的括号</span></span><br><span class="line"><span class="comment">后面要加，</span></span><br><span class="line"><span class="comment">字符串使用单引号</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT  <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex` <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span> COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure>

<blockquote>
<p>格式</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] `表名`(</span><br><span class="line">`字段名` 列类型 [属性] [索引][注释],</span><br><span class="line">`字段名` 列类型 [属性] [索引][注释],</span><br><span class="line">`字段名` 列类型 [属性] [索引][注释],</span><br><span class="line">    ....</span><br><span class="line">)[表类型][字符集设置][注释]</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看创建数据库school的语句</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE school;</span><br><span class="line"><span class="comment">-- 查看创建表student的语句</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE TABLE</span> student;</span><br><span class="line"><span class="comment">-- 查看表的基本结构</span></span><br><span class="line"><span class="keyword">DESC</span> student;</span><br></pre></td></tr></table></figure>

<h3 id="2-5数据表的类型"><a href="#2-5数据表的类型" class="headerlink" title="2.5数据表的类型"></a>2.5数据表的类型</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 关于数据库的引擎</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">INNODB  默认使用</span></span><br><span class="line"><span class="comment">MYISAM  早些年使用</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">MYISAM</th>
<th align="center">INNODB</th>
</tr>
</thead>
<tbody><tr>
<td align="center">事务支持</td>
<td align="center">不支持</td>
<td align="center">支持</td>
</tr>
<tr>
<td align="center">数据行锁定</td>
<td align="center">不支持</td>
<td align="center">支持</td>
</tr>
<tr>
<td align="center">外键约束</td>
<td align="center">不支持</td>
<td align="center">支持</td>
</tr>
<tr>
<td align="center">全文索引</td>
<td align="center">支持</td>
<td align="center">不支持</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">较小</td>
<td align="center">较大约为前者的两倍</td>
</tr>
</tbody></table>
<p>常规的使用操作：</p>
<ul>
<li>MYISAM  节约空间，速度较快</li>
<li>INNODB 安全性高，支持事务的处理，多表多用户操作</li>
</ul>
<blockquote>
<p>在物理空间存在的位置</p>
</blockquote>
<p>&#x3D;&#x3D;所有的数据库文件都存在data目录下&#x3D;&#x3D;一个文件夹就对应一个数据库</p>
<p>本质还是文件存储</p>
<p>MySQL引擎在物理文件上的区别：</p>
<ul>
<li>INNODB在数据库表中只有一个*.frm文件，以及上级目录下的ibdata文件</li>
<li>MYISAM对应文件<ul>
<li>*.frm  — 表结构的定义文件</li>
<li>*.MYD  数据文件（Data）</li>
<li>*.MYI  索引文件</li>
</ul>
</li>
</ul>
<blockquote>
<p>设置数据库字符集的编码</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 不设置的话是mysql的默认的字符集编码（不支持中文）  最好在创建表的时候去设置</span></span><br><span class="line"><span class="comment">-- 1.创建表的时候就修改</span></span><br><span class="line"><span class="comment">-- 2.在my.ini添加字符集</span></span><br></pre></td></tr></table></figure>

<h3 id="2-6修改和删除表"><a href="#2-6修改和删除表" class="headerlink" title="2.6修改和删除表"></a>2.6修改和删除表</h3><blockquote>
<p>修改</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改表</span></span><br><span class="line"><span class="comment">--ALTER TABLE 旧的表名 RENAME `新的表名`;</span></span><br><span class="line"><span class="keyword">ALTER TABLE</span> `teacher` RENAME `teacher1`;</span><br><span class="line"><span class="comment">--ALTER TABLE `表名` ADD 字段 数据类型;</span></span><br><span class="line"><span class="keyword">ALTER TABLE</span> `teacher1` <span class="keyword">ADD</span> age <span class="type">INT</span>(<span class="number">3</span>);</span><br><span class="line"><span class="comment">-- 修改表的字段  （重命名修改约束）</span></span><br><span class="line"><span class="comment">-- 修改表的约束</span></span><br><span class="line"><span class="comment">-- ALTER TABLE `表名` MODIFY 字段名字 类型;</span></span><br><span class="line"><span class="keyword">ALTER TABLE</span> `teacher1` MODIFY age <span class="type">VARCHAR</span>(<span class="number">11</span>);</span><br><span class="line"><span class="comment">-- 重命名表的字段的名字</span></span><br><span class="line"><span class="comment">-- ALTER TABLE `表名` CHANGE 旧的字段名 新的字段名 新的字段名的类型;</span></span><br><span class="line"><span class="keyword">ALTER TABLE</span> `teacher1` CHANGE age age1 <span class="type">INT</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除表的字段</span></span><br><span class="line"><span class="keyword">ALTER  TABLE</span> `teacher1` <span class="keyword">DROP</span> age1;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>删除</p>
</blockquote>
<p>&#x3D;&#x3D;<strong>注意： 所有的删除尽量加上是否存在，以免报错</strong>&#x3D;&#x3D;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-- 删除表（如果表存在）</span><br><span class="line">--DROP TABLE IF EXISTS `表名`;</span><br><span class="line">DROP TABLE IF EXISTS `teacher1`;</span><br></pre></td></tr></table></figure>

<p>注意点：</p>
<ul>
<li>&#x3D;&#x3D;&#96;&#96;的引用，所有的字段名使用这个符号&#x3D;&#x3D;</li>
<li>&#x3D;&#x3D;注释是 – 或者是&#x2F;**&#x2F;&#x3D;&#x3D;</li>
<li>&#x3D;&#x3D;sql关键字的大小写是不敏感的，建议写小写&#x3D;&#x3D;</li>
<li>&#x3D;&#x3D;所有的符号全部用英文的&#x3D;&#x3D;</li>
</ul>
<h2 id="3-MySQL的数据管理"><a href="#3-MySQL的数据管理" class="headerlink" title="3.MySQL的数据管理"></a>3.MySQL的数据管理</h2><h3 id="3-1外键（了解即可）"><a href="#3-1外键（了解即可）" class="headerlink" title="3.1外键（了解即可）"></a>3.1外键（了解即可）</h3><blockquote>
<p>方式一： 在创建表的时候给表添加约束</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建年级表</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `grade`(</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>,</span><br><span class="line">`gradename` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"><span class="comment">-- 学生表的gradeid 要引用年级表的gradeid</span></span><br><span class="line"><span class="comment">-- 1.定义外键</span></span><br><span class="line"><span class="comment">-- 2.给这个外键添加约束</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT  <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex` <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span> COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;学生的年级&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`id`),</span><br><span class="line">KEY `FK_gradeid` (gradeid) ,</span><br><span class="line"><span class="keyword">CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN KEY</span> (`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;删除表的时候，要删除引用的表（从表），之后再删除被引用的表（主表）&#x3D;&#x3D;</p>
<blockquote>
<p>方式二： 创建表成功后添加外键约束</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建年级表</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `grade`(</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>,</span><br><span class="line">`gradename` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"><span class="comment">-- 学生表的gradeid 要引用年级表的gradeid</span></span><br><span class="line"><span class="comment">-- 1.定义外键</span></span><br><span class="line"><span class="comment">-- 2.给这个外键添加约束</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT  <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex` <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span> COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;学生的年级&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 创建表的时候没有外键的关系</span></span><br><span class="line"><span class="comment">-- ALTER TABLE `表名` </span></span><br><span class="line"><span class="comment">-- ADD CONSTRAINT `FK_gradeid` FOREIGN KEY (`作为外键的列`) REFERENCES `引用的表`(`引用的表的字段`);</span></span><br><span class="line"><span class="keyword">ALTER TABLE</span> `student` </span><br><span class="line"><span class="keyword">ADD CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN KEY</span> (`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`);</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;注意： 以上的操作都物理外键，不建议使用（避免数据库过多造成困扰，这里了解即可）&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;最佳实践： 数据库就是单存的表，只用来存储行和列，我们要使用外键，使用程序去解决&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;<strong>在企业中有要求，不得使用外键，一切外键概念必须在应用层解决（在删除和更新的时候比较方便）</strong>&#x3D;&#x3D;</p>
<h4 id="3-2DML语言（全部记住）"><a href="#3-2DML语言（全部记住）" class="headerlink" title="3.2DML语言（全部记住）"></a>3.2DML语言（全部记住）</h4><p>数据库的意义: 数据存储和数据管理</p>
<p>DML 数据操作语言：</p>
<ul>
<li>insert </li>
<li>update</li>
<li>delete</li>
</ul>
<h4 id="3-3添加（insert）"><a href="#3-3添加（insert）" class="headerlink" title="3.3添加（insert）"></a>3.3添加（insert）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 插入语句（添加） 如果不写表的字段，就会一一匹配</span></span><br><span class="line"><span class="comment">-- INSERT INTO `表名`(`字段名`) VALUES(&#x27;值&#x27;);</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> `grade`(`gradename`) <span class="keyword">VALUES</span>(<span class="string">&#x27;大二&#x27;</span>);</span><br><span class="line"><span class="comment">-- 一般写插入语句，一定要数据和字段一一对应</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> `grade`(`gradename`) <span class="keyword">VALUES</span>(<span class="string">&#x27;大二&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入多个字段</span></span><br><span class="line"><span class="comment">-- INSERT INTO `grade`(`gradename`) VALUES(&#x27;大三&#x27;),(&#x27;大四&#x27;);</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> `grade`(`gradename`) <span class="keyword">VALUES</span>(<span class="string">&#x27;大三&#x27;</span>),(<span class="string">&#x27;大四&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT INTO</span> `student`(`name`,`pwd`,`sex`) <span class="keyword">VALUES</span>(<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;aaaaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;aaaaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;孙子&#x27;</span>,<span class="string">&#x27;aaaaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;<strong>注意事项</strong>&#x3D;&#x3D;</p>
<p>1.字段和字段之间使用英文逗号隔开</p>
<p>2.字段可以省略，但是里面的值要一一对应</p>
<p>3.可以同时插入多条数据，values后面的值，需要使用逗号隔开</p>
<h4 id="3-4修改（update）"><a href="#3-4修改（update）" class="headerlink" title="3.4修改（update）"></a>3.4修改（update）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--  修改数据  修改谁 也就是条件</span></span><br><span class="line"><span class="comment">-- 修改学院的名字</span></span><br><span class="line"><span class="comment">-- 指定条件的修改</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;陈留红&#x27;</span> <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="comment">-- 不指定条件的修改</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;陈留红&#x27;</span>;</span><br><span class="line"><span class="comment">-- 修改多个属性的时候，一样需要使用逗号隔开</span></span><br></pre></td></tr></table></figure>

<p>条件： where 子语句  运算符  id &#x3D; 某个值或者是其他的判断条件</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
<th>范围</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>等于</td>
<td>5&#x3D;6</td>
<td>false</td>
</tr>
<tr>
<td>&lt;&gt;或者是！&#x3D;</td>
<td>不等于</td>
<td>5&lt;&gt;6</td>
<td>true</td>
</tr>
<tr>
<td>&gt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>between…and…</td>
<td>在某个范围内</td>
<td></td>
<td>[2,5]</td>
</tr>
<tr>
<td>and</td>
<td>我和你 &amp;&amp;</td>
<td>5&gt;1 and 1&gt;2</td>
<td>false</td>
</tr>
<tr>
<td>or</td>
<td>我或你  ||</td>
<td>5&gt;1 or 1&gt;2</td>
<td>true</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 通过多个条件修改数据,没有上限</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student;</span><br><span class="line"><span class="keyword">UPDATE</span> `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;孙子&#x27;</span> <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;陈留红&#x27;</span> <span class="keyword">AND</span> id<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>注意事项： 列名不能随便写，尽量带上&#96;，条件是筛选的条件，如果没有指定，则会修改所有的列，value，是一个具体的值，也可以是一个变量，多个设置的属性使用英文隔开&#x3D;&#x3D;trim 把多余的符号干掉&#x3D;&#x3D;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 通过多个条件修改数据,没有上限  设置变量值 ， 一般只有时间会用   </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student;</span><br><span class="line"><span class="keyword">UPDATE</span> `student` <span class="keyword">SET</span> `birthday`<span class="operator">=</span><span class="built_in">CURRENT_TIME</span> <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;孙子&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h4 id="3-5删除（delete）"><a href="#3-5删除（delete）" class="headerlink" title="3.5删除（delete）"></a>3.5删除（delete）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除全部的数据</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student`;</span><br><span class="line"><span class="comment">-- 删除数据</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student` <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>TRUNCATE</p>
</blockquote>
<p>作用： 完全清空一个数据库表，表的结构和索引约束不会变</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 清空student表</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> `student`;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>DELETE和TRUNCATE的区别</p>
</blockquote>
<p>相同点： 都能够删除数据，都不会删除表结构</p>
<p>不同点：</p>
<ul>
<li>TRUNCATE 重新设置 自增列  计数器会归零</li>
<li>TRUNCATE 不会影响事务</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 清空student表</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> `student`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 测试 DELETE 和TRUNCATE 的区别</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `test`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;主键&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT INTO</span> `test`(`name`) <span class="keyword">VALUES</span>(<span class="string">&#x27;zs&#x27;</span>),(<span class="string">&#x27;ls&#x27;</span>),(<span class="string">&#x27;ww&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `test`; <span class="comment">-- 不会影响自增</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> `test`;</span><br></pre></td></tr></table></figure>

<p>了解即可： <code>delete删除的问题</code>，重启数据库，现象：</p>
<ul>
<li>INNODB 自增列会从1开始（存储在内存当中的，断电及失）</li>
<li>MYISAM 继续从上一个自增量开始（存在文件之中，不会丢失）</li>
</ul>
<h2 id="4-DQL查询数据（最重点）"><a href="#4-DQL查询数据（最重点）" class="headerlink" title="4.DQL查询数据（最重点）"></a>4.DQL查询数据（最重点）</h2><blockquote>
<p>select 语法</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span> <span class="operator">|</span> <span class="keyword">DISTINCT</span>]</span><br><span class="line">&#123;<span class="operator">*</span> <span class="operator">|</span> table.<span class="operator">*</span> <span class="operator">|</span> [table.field1[<span class="keyword">as</span> alias1][,table.field2[<span class="keyword">as</span> alias2]][,...]]&#125;</span><br><span class="line"><span class="keyword">FROM</span> table_name [<span class="keyword">as</span> table_alias]</span><br><span class="line">	[<span class="keyword">left</span> <span class="operator">|</span> <span class="keyword">right</span> <span class="operator">|</span> <span class="keyword">inner</span> <span class="keyword">join</span> table_name] <span class="comment">--联合查询</span></span><br><span class="line">	[<span class="keyword">WHERE</span> ...] <span class="comment">-- 指定结果需满足条件</span></span><br><span class="line">	[<span class="keyword">GROUP</span> <span class="keyword">BY</span> ...] <span class="comment">-- 指定结果按照那几个字段来分组</span></span><br><span class="line">	[<span class="keyword">HAVING</span> ...] <span class="comment">-- 过滤分组的条件满足的次要条件</span></span><br><span class="line">	[<span class="keyword">ORDER</span> <span class="keyword">BY</span> ... ]  <span class="comment">-- 指定查询记录按一个或者是多个条件排序</span></span><br><span class="line">	[LIMIT &#123;[<span class="keyword">offset</span>,]row_count <span class="operator">|</span> row_countOFFSET <span class="keyword">offset</span>&#125;];</span><br><span class="line">	<span class="comment">-- 指定查询的记录从那条开始至那条</span></span><br></pre></td></tr></table></figure>

<h3 id="4-1DQL"><a href="#4-1DQL" class="headerlink" title="4.1DQL"></a>4.1DQL</h3><p>（Data Query Language : 数据查询语言）</p>
<ul>
<li>所有的查询操作都用select</li>
<li>简单的查询，复杂的查询都能做</li>
<li>&#x3D;&#x3D;数据库的核心语言，最终要的语句&#x3D;&#x3D;</li>
<li>使用频率最高的语句</li>
</ul>
<blockquote>
<p>测试数据</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">SQLyog Ultimate v12.08 (64 bit)</span></span><br><span class="line"><span class="comment">MySQL - 5.7.19 : Database - school</span></span><br><span class="line"><span class="comment">*********************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40101 SET NAMES utf8 */</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40101 SET SQL_MODE=&#x27;&#x27;*/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */</span>;</span><br><span class="line"><span class="comment">/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#x27;NO_AUTO_VALUE_ON_ZERO&#x27; */</span>;</span><br><span class="line"><span class="comment">/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */</span>;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE <span class="comment">/*!32312 IF NOT EXISTS*/</span>`school` <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span>;</span><br><span class="line"></span><br><span class="line">USE `school`;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `grade` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `grade`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `grade` (</span><br><span class="line">  `GradeID` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line">  `GradeName` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span> (`GradeID`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">6</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `grade` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert  into</span> `grade`(`GradeID`,`GradeName`) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;大一&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;大二&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;大三&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;大四&#x27;</span>),(<span class="number">5</span>,<span class="string">&#x27;预科班&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `result` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `<span class="keyword">result</span>`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `<span class="keyword">result</span>` (</span><br><span class="line">  `StudentNo` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">  `SubjectNo` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;课程编号&#x27;</span>,</span><br><span class="line">  `ExamDate` datetime <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;考试日期&#x27;</span>,</span><br><span class="line">  `StudentResult` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;考试成绩&#x27;</span>,</span><br><span class="line">  KEY `SubjectNo` (`SubjectNo`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `result` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert  into</span> `<span class="keyword">result</span>`(`StudentNo`,`SubjectNo`,`ExamDate`,`StudentResult`) <span class="keyword">values</span> (<span class="number">1000</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">94</span>),(<span class="number">1000</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">75</span>),(<span class="number">1000</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1000</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">93</span>),(<span class="number">1000</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1000</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">87</span>),(<span class="number">1000</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1000</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1000</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1000</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">78</span>),(<span class="number">1000</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">66</span>),(<span class="number">1000</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1000</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">94</span>),(<span class="number">1000</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">98</span>),(<span class="number">1000</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">70</span>),(<span class="number">1000</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1001</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1001</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">93</span>),(<span class="number">1001</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1001</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">71</span>),(<span class="number">1001</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">98</span>),(<span class="number">1001</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1001</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">85</span>),(<span class="number">1001</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1001</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">63</span>),(<span class="number">1001</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">70</span>),(<span class="number">1001</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">62</span>),(<span class="number">1001</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1001</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1001</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1001</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">72</span>),(<span class="number">1001</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1002</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">61</span>),(<span class="number">1002</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">80</span>),(<span class="number">1002</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1002</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">88</span>),(<span class="number">1002</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1002</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1002</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">63</span>),(<span class="number">1002</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">84</span>),(<span class="number">1002</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">60</span>),(<span class="number">1002</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">71</span>),(<span class="number">1002</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">93</span>),(<span class="number">1002</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1002</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1002</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1002</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1002</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1003</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1003</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">75</span>),(<span class="number">1003</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1003</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">63</span>),(<span class="number">1003</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1003</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1003</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1003</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">77</span>),(<span class="number">1003</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">62</span>),(<span class="number">1003</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">81</span>),(<span class="number">1003</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1003</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">61</span>),(<span class="number">1003</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">93</span>),(<span class="number">1003</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1003</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">78</span>),(<span class="number">1003</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1004</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">84</span>),(<span class="number">1004</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1004</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1004</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">78</span>),(<span class="number">1004</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">81</span>),(<span class="number">1004</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1004</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">63</span>),(<span class="number">1004</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1004</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">67</span>),(<span class="number">1004</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">100</span>),(<span class="number">1004</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">94</span>),(<span class="number">1004</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1004</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1004</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">77</span>),(<span class="number">1004</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1004</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">87</span>),(<span class="number">1005</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1005</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">92</span>),(<span class="number">1005</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">80</span>),(<span class="number">1005</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">92</span>),(<span class="number">1005</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1005</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">72</span>),(<span class="number">1005</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">84</span>),(<span class="number">1005</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1005</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1005</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">87</span>),(<span class="number">1005</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1005</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">67</span>),(<span class="number">1005</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">63</span>),(<span class="number">1005</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">64</span>),(<span class="number">1005</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">99</span>),(<span class="number">1005</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1006</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1006</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">73</span>),(<span class="number">1006</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1006</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">63</span>),(<span class="number">1006</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1006</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1006</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">78</span>),(<span class="number">1006</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">88</span>),(<span class="number">1006</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1006</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1006</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">70</span>),(<span class="number">1006</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1006</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">64</span>),(<span class="number">1006</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">80</span>),(<span class="number">1006</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1006</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">85</span>),(<span class="number">1007</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">87</span>),(<span class="number">1007</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">63</span>),(<span class="number">1007</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">70</span>),(<span class="number">1007</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1007</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1007</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1007</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1007</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1007</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1007</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">87</span>),(<span class="number">1007</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1007</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1007</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1007</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">84</span>),(<span class="number">1007</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">95</span>),(<span class="number">1007</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">92</span>),(<span class="number">1008</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1008</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">62</span>),(<span class="number">1008</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1008</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">84</span>),(<span class="number">1008</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1008</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">72</span>),(<span class="number">1008</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">67</span>),(<span class="number">1008</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1008</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1008</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">60</span>),(<span class="number">1008</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">61</span>),(<span class="number">1008</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">68</span>),(<span class="number">1008</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">99</span>),(<span class="number">1008</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">77</span>),(<span class="number">1008</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">73</span>),(<span class="number">1008</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">78</span>),(<span class="number">1009</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">67</span>),(<span class="number">1009</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">70</span>),(<span class="number">1009</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">75</span>),(<span class="number">1009</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">92</span>),(<span class="number">1009</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1009</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1009</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">62</span>),(<span class="number">1009</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">68</span>),(<span class="number">1009</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">70</span>),(<span class="number">1009</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1009</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">88</span>),(<span class="number">1009</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1009</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1009</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">99</span>),(<span class="number">1009</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1009</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1010</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1010</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">87</span>),(<span class="number">1010</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1010</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">99</span>),(<span class="number">1010</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1010</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1010</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">72</span>),(<span class="number">1010</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">72</span>),(<span class="number">1010</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">98</span>),(<span class="number">1010</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">73</span>),(<span class="number">1010</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">68</span>),(<span class="number">1010</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">62</span>),(<span class="number">1010</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">67</span>),(<span class="number">1010</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1010</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">71</span>),(<span class="number">1010</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">66</span>),(<span class="number">1011</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">62</span>),(<span class="number">1011</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">72</span>),(<span class="number">1011</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1011</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">64</span>),(<span class="number">1011</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1011</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1011</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">95</span>),(<span class="number">1011</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1011</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1011</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">73</span>),(<span class="number">1011</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1011</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">98</span>),(<span class="number">1011</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">66</span>),(<span class="number">1011</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1011</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1011</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1012</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1012</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">66</span>),(<span class="number">1012</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1012</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1012</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">70</span>),(<span class="number">1012</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1012</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1012</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1012</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">84</span>),(<span class="number">1012</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1012</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1012</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1012</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1012</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1012</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">85</span>),(<span class="number">1012</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1013</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">73</span>),(<span class="number">1013</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">69</span>),(<span class="number">1013</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1013</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">72</span>),(<span class="number">1013</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1013</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">87</span>),(<span class="number">1013</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">61</span>),(<span class="number">1013</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">77</span>),(<span class="number">1013</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1013</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">99</span>),(<span class="number">1013</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">91</span>),(<span class="number">1013</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">84</span>),(<span class="number">1013</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">98</span>),(<span class="number">1013</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1013</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">92</span>),(<span class="number">1013</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1014</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">64</span>),(<span class="number">1014</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">81</span>),(<span class="number">1014</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1014</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1014</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1014</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">88</span>),(<span class="number">1014</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1014</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">77</span>),(<span class="number">1014</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1014</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">85</span>),(<span class="number">1014</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1014</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">75</span>),(<span class="number">1014</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">89</span>),(<span class="number">1014</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1014</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">73</span>),(<span class="number">1014</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">68</span>),(<span class="number">1015</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">99</span>),(<span class="number">1015</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">60</span>),(<span class="number">1015</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">60</span>),(<span class="number">1015</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">75</span>),(<span class="number">1015</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">78</span>),(<span class="number">1015</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">78</span>),(<span class="number">1015</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">84</span>),(<span class="number">1015</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">95</span>),(<span class="number">1015</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">93</span>),(<span class="number">1015</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">79</span>),(<span class="number">1015</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1015</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1015</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">63</span>),(<span class="number">1015</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">74</span>),(<span class="number">1015</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">67</span>),(<span class="number">1015</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">65</span>),(<span class="number">1016</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1016</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">90</span>),(<span class="number">1016</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">77</span>),(<span class="number">1016</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">75</span>),(<span class="number">1016</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">75</span>),(<span class="number">1016</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1016</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1016</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">92</span>),(<span class="number">1016</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">62</span>),(<span class="number">1016</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">83</span>),(<span class="number">1016</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">98</span>),(<span class="number">1016</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">94</span>),(<span class="number">1016</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">62</span>),(<span class="number">1016</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">97</span>),(<span class="number">1016</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1016</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1017</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">100</span>),(<span class="number">1017</span>,<span class="number">2</span>,<span class="string">&#x27;2012-11-10 10:00:00&#x27;</span>,<span class="number">88</span>),(<span class="number">1017</span>,<span class="number">3</span>,<span class="string">&#x27;2011-12-19 10:00:00&#x27;</span>,<span class="number">86</span>),(<span class="number">1017</span>,<span class="number">4</span>,<span class="string">&#x27;2010-11-18 11:00:00&#x27;</span>,<span class="number">73</span>),(<span class="number">1017</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">96</span>),(<span class="number">1017</span>,<span class="number">6</span>,<span class="string">&#x27;2012-09-13 15:00:00&#x27;</span>,<span class="number">64</span>),(<span class="number">1017</span>,<span class="number">7</span>,<span class="string">&#x27;2011-10-16 16:00:00&#x27;</span>,<span class="number">81</span>),(<span class="number">1017</span>,<span class="number">8</span>,<span class="string">&#x27;2010-11-11 16:00:00&#x27;</span>,<span class="number">66</span>),(<span class="number">1017</span>,<span class="number">9</span>,<span class="string">&#x27;2013-11-21 10:00:00&#x27;</span>,<span class="number">76</span>),(<span class="number">1017</span>,<span class="number">10</span>,<span class="string">&#x27;2012-11-11 12:00:00&#x27;</span>,<span class="number">95</span>),(<span class="number">1017</span>,<span class="number">11</span>,<span class="string">&#x27;2011-11-11 14:00:00&#x27;</span>,<span class="number">73</span>),(<span class="number">1017</span>,<span class="number">12</span>,<span class="string">&#x27;2010-11-11 15:00:00&#x27;</span>,<span class="number">82</span>),(<span class="number">1017</span>,<span class="number">13</span>,<span class="string">&#x27;2013-11-11 14:00:00&#x27;</span>,<span class="number">85</span>),(<span class="number">1017</span>,<span class="number">14</span>,<span class="string">&#x27;2012-11-11 15:00:00&#x27;</span>,<span class="number">68</span>),(<span class="number">1017</span>,<span class="number">15</span>,<span class="string">&#x27;2011-12-11 10:00:00&#x27;</span>,<span class="number">99</span>),(<span class="number">1017</span>,<span class="number">16</span>,<span class="string">&#x27;2010-09-11 10:00:00&#x27;</span>,<span class="number">76</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `student` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `student`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `student` (</span><br><span class="line">  `StudentNo` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">  `LoginPwd` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `StudentName` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学生姓名&#x27;</span>,</span><br><span class="line">  `Sex` tinyint(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;性别，取值0或1&#x27;</span>,</span><br><span class="line">  `GradeId` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line">  `Phone` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;联系电话，允许为空，即可选输入&#x27;</span>,</span><br><span class="line">  `Address` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;地址，允许为空，即可选输入&#x27;</span>,</span><br><span class="line">  `BornDate` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生时间&#x27;</span>,</span><br><span class="line">  `Email` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;邮箱账号，允许为空，即可选输入&#x27;</span>,</span><br><span class="line">  `IdentityCard` <span class="type">varchar</span>(<span class="number">18</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;身份证号&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span> (`StudentNo`),</span><br><span class="line">  <span class="keyword">UNIQUE</span> KEY `IdentityCard` (`IdentityCard`),</span><br><span class="line">  KEY `Email` (`Email`)</span><br><span class="line">) ENGINE<span class="operator">=</span>MyISAM <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `student` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert  into</span> `student`(`StudentNo`,`LoginPwd`,`StudentName`,`Sex`,`GradeId`,`Phone`,`Address`,`BornDate`,`Email`,`IdentityCard`) <span class="keyword">values</span> (<span class="number">1000</span>,<span class="string">&#x27;111111&#x27;</span>,<span class="string">&#x27;周丹&#x27;</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;13500000001&#x27;</span>,<span class="string">&#x27;北京海淀区中关村大街1号&#x27;</span>,<span class="string">&#x27;1986-12-11 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612111234&#x27;</span>),(<span class="number">1001</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;周颖&#x27;</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;13500000002&#x27;</span>,<span class="string">&#x27;河南洛阳&#x27;</span>,<span class="string">&#x27;1981-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198112311234&#x27;</span>),(<span class="number">1002</span>,<span class="string">&#x27;111111&#x27;</span>,<span class="string">&#x27;杨文瑞&#x27;</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;13500000003&#x27;</span>,<span class="string">&#x27;天津市和平区&#x27;</span>,<span class="string">&#x27;1986-11-30 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198611301234&#x27;</span>),(<span class="number">1003</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;韩萌&#x27;</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;13500000004&#x27;</span>,<span class="string">&#x27;上海卢湾区&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612314234&#x27;</span>),(<span class="number">1004</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;刘丽侠&#x27;</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="string">&#x27;13500000005&#x27;</span>,<span class="string">&#x27;北京市通州&#x27;</span>,<span class="string">&#x27;1989-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311244&#x27;</span>),(<span class="number">1005</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;姜嘉航&#x27;</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="string">&#x27;13500000006&#x27;</span>,<span class="string">&#x27;广西桂林市灵川&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311214&#x27;</span>),(<span class="number">1006</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;郑嘉祥&#x27;</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="string">&#x27;13500000007&#x27;</span>,<span class="string">&#x27;地址不详&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311134&#x27;</span>),(<span class="number">1007</span>,<span class="string">&#x27;111111&#x27;</span>,<span class="string">&#x27;刘洋&#x27;</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;13500000008&#x27;</span>,<span class="string">&#x27;北京东城区&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311133&#x27;</span>),(<span class="number">1008</span>,<span class="string">&#x27;111111&#x27;</span>,<span class="string">&#x27;刘洋洋&#x27;</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;13500000009&#x27;</span>,<span class="string">&#x27;河南洛阳&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311221&#x27;</span>),(<span class="number">1009</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;刘毅&#x27;</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;13500000011&#x27;</span>,<span class="string">&#x27;安徽&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311231&#x27;</span>),(<span class="number">1010</span>,<span class="string">&#x27;111111&#x27;</span>,<span class="string">&#x27;赵杰&#x27;</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;13500000012&#x27;</span>,<span class="string">&#x27;河南洛阳&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311044&#x27;</span>),(<span class="number">1011</span>,<span class="string">&#x27;111111&#x27;</span>,<span class="string">&#x27;赵成&#x27;</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;13500000013&#x27;</span>,<span class="string">&#x27;北京海淀区中关村大街*号&#x27;</span>,<span class="string">&#x27;1984-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198412311234&#x27;</span>),(<span class="number">1012</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;刘恒&#x27;</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;13500000014&#x27;</span>,<span class="string">&#x27;广西南宁中央大街&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311334&#x27;</span>),(<span class="number">1013</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;张伟奇&#x27;</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="string">&#x27;13500000015&#x27;</span>,<span class="string">&#x27;上海卢湾区&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311534&#x27;</span>),(<span class="number">1014</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;牛恩来&#x27;</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="string">&#x27;13500000016&#x27;</span>,<span class="string">&#x27;北京海淀区中关村大街*号&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311264&#x27;</span>),(<span class="number">1015</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;马辉&#x27;</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="string">&#x27;13500000017&#x27;</span>,<span class="string">&#x27;广西桂林市灵川&#x27;</span>,<span class="string">&#x27;1976-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323197612311234&#x27;</span>),(<span class="number">1016</span>,<span class="string">&#x27;111111&#x27;</span>,<span class="string">&#x27;陈勉&#x27;</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;13500000018&#x27;</span>,<span class="string">&#x27;上海卢湾区&#x27;</span>,<span class="string">&#x27;1986-12-31 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198612311251&#x27;</span>),(<span class="number">1017</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;赵宇航&#x27;</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;13500000019&#x27;</span>,<span class="string">&#x27;北京长安街1号&#x27;</span>,<span class="string">&#x27;1981-09-10 00:00:00&#x27;</span>,<span class="string">&#x27;test1@qq.com&#x27;</span>,<span class="string">&#x27;450323198109108311&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `subject` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `subject`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `subject` (</span><br><span class="line">  `SubjectNo` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;课程编号&#x27;</span>,</span><br><span class="line">  `SubjectName` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;课程名称&#x27;</span>,</span><br><span class="line">  `ClassHour` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学时&#x27;</span>,</span><br><span class="line">  `GradeID` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span> (`SubjectNo`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">18</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `subject` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert  into</span> `subject`(`SubjectNo`,`SubjectName`,`ClassHour`,`GradeID`) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),(<span class="number">2</span>,<span class="string">&#x27;高等数学-2&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),(<span class="number">3</span>,<span class="string">&#x27;高等数学-3&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),(<span class="number">4</span>,<span class="string">&#x27;高等数学-4&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),(<span class="number">5</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),(<span class="number">6</span>,<span class="string">&#x27;C语言-2&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),(<span class="number">7</span>,<span class="string">&#x27;C语言-3&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),(<span class="number">8</span>,<span class="string">&#x27;C语言-4&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),(<span class="number">9</span>,<span class="string">&#x27;JAVA第一学年&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),(<span class="number">10</span>,<span class="string">&#x27;JAVA第二学年&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),(<span class="number">11</span>,<span class="string">&#x27;JAVA第三学年&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),(<span class="number">12</span>,<span class="string">&#x27;JAVA第四学年&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),(<span class="number">13</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),(<span class="number">14</span>,<span class="string">&#x27;数据库结构-2&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),(<span class="number">15</span>,<span class="string">&#x27;数据库结构-3&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),(<span class="number">16</span>,<span class="string">&#x27;数据库结构-4&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),(<span class="number">17</span>,<span class="string">&#x27;C#基础&#x27;</span>,<span class="number">130</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40101 SET SQL_MODE=@OLD_SQL_MODE */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */</span>;</span><br><span class="line"><span class="comment">/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-指定查询字段"><a href="#4-2-指定查询字段" class="headerlink" title="4.2 指定查询字段"></a>4.2 指定查询字段</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询指定字段</span></span><br><span class="line"><span class="comment">-- 查询全部的学生</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `student`;</span><br><span class="line"><span class="comment">-- 查询全部的成绩</span></span><br><span class="line"><span class="keyword">SELECT</span>  <span class="operator">*</span> <span class="keyword">FROM</span>  `<span class="keyword">result</span>`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询指定字段</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> `student`;</span><br><span class="line"><span class="comment">-- 别名 ， 给结果起一个名字  AS  可以给字段起别名，也可以给表起别名</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo` <span class="keyword">AS</span> <span class="string">&#x27;学号&#x27;</span>,`StudentName` <span class="keyword">AS</span> <span class="string">&#x27;学员姓名&#x27;</span> <span class="keyword">FROM</span> `student` <span class="keyword">AS</span> s;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 函数  Concat（a,b）</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;姓名：&#x27;</span>,`studentname`) <span class="keyword">AS</span> 新名字 <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>

<p>语法：<code>select 字段 ...  from 表</code></p>
<p>&#x3D;&#x3D;注意： 有的时候，列的名字不是见名知意，可以起别名来进行&#x3D;&#x3D;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 去重复 distinct</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询有哪些同学参加了考试</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `<span class="keyword">result</span>`;  <span class="comment">-- 查询全部的成绩</span></span><br><span class="line"><span class="comment">-- 查询哪些同学参加了考试</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno` <span class="keyword">FROM</span> <span class="keyword">result</span>;</span><br><span class="line"><span class="comment">-- 发现重复数据，我们可以去重</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> `studentno` <span class="keyword">FROM</span> `<span class="keyword">result</span>`;</span><br></pre></td></tr></table></figure>

<p>数据库的列： </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看系统的版本（函数）</span></span><br><span class="line"><span class="keyword">SELECT</span> VERSION();</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">100</span><span class="operator">*</span><span class="number">3</span><span class="number">-1</span> <span class="keyword">AS</span> 计算结果 <span class="comment">-- 用来计算（计算表达式）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@auto_increment_increment</span>; <span class="comment">-- 查询自增的步长（变量）</span></span><br><span class="line"><span class="comment">-- 学院考试成绩加一分查看</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentResult`<span class="operator">+</span><span class="number">1</span> <span class="keyword">AS</span> <span class="string">&#x27;提分后&#x27;</span> <span class="keyword">FROM</span> `<span class="keyword">result</span>`;</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;数据库中的表达式： 文本的值，列，Null，函数，计算表达式，系统变量&#x3D;&#x3D;</p>
<p>select  <code>表达式</code> from 表</p>
<h3 id="4-3where条件子句"><a href="#4-3where条件子句" class="headerlink" title="4.3where条件子句"></a>4.3where条件子句</h3><p>作用： 检索数据中<code>符合条件</code>的值</p>
<blockquote>
<p>逻辑运算符</p>
</blockquote>
<p>搜索的条件由一个或者是多个表达式组成!  结果为布尔值</p>
<table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">语法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">and &amp;&amp;</td>
<td align="center">a and b   a&amp;&amp;b</td>
<td align="center">逻辑与，两个都为真，结果为真</td>
</tr>
<tr>
<td align="center">or ||</td>
<td align="center">a or b      a||b</td>
<td align="center">逻辑或，两个都为假，结果为假</td>
</tr>
<tr>
<td align="center">Not  !</td>
<td align="center">not a        !a</td>
<td align="center">逻辑非，真为假，假为真</td>
</tr>
</tbody></table>
<p>&#x3D;&#x3D;<strong>尽量使用英文符号</strong>&#x3D;&#x3D;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =========where=============</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> `<span class="keyword">result</span>`;</span><br><span class="line"><span class="comment">-- 查询成绩在95 到 100 分之间的学生</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">WHERE</span> `studentresult`<span class="operator">&gt;</span><span class="number">95</span> <span class="keyword">AND</span> `studentresult`<span class="operator">&lt;</span><span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 模糊查询（区间范围）</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">WHERE</span> `studentresult` <span class="keyword">BETWEEN</span> <span class="number">95</span> <span class="keyword">AND</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 除了1000号学生之外的信息</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">WHERE</span> `studentno` <span class="operator">!=</span> <span class="number">1000</span>;  <span class="comment">-- not `studentno`=1000</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>模糊查询： 本质是比较运算符</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">语法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">IS NULL</td>
<td align="center">a is null</td>
<td align="center">如果操作符为null，则结果为真</td>
</tr>
<tr>
<td align="center">IS NOT NULL</td>
<td align="center">a is not null</td>
<td align="center">如果操作符为null，则结果为假</td>
</tr>
<tr>
<td align="center">BETWEEN</td>
<td align="center">A BETWEEN B AND C</td>
<td align="center">若a在b和c之间，则结果为真</td>
</tr>
<tr>
<td align="center"><strong>Like</strong></td>
<td align="center">a like b</td>
<td align="center">如果a 能匹配到b，则结果为真</td>
</tr>
<tr>
<td align="center"><strong>in</strong></td>
<td align="center">a in (a1,a2,a3,…)</td>
<td align="center">如果a在a1和。。。中的一个，那么就为真</td>
</tr>
</tbody></table>
<p>小红like红</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =============模糊查询=================</span></span><br><span class="line"><span class="comment">-- 查询名字姓刘的同学</span></span><br><span class="line"><span class="comment">-- like结合%（代表0到任意个字符） ——（一个字符）</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentname` <span class="keyword">LIKE</span> <span class="string">&#x27;刘%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询名字姓刘的同学,名字后面只有一个字的</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentname` <span class="keyword">LIKE</span> <span class="string">&#x27;刘_&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询名字姓刘的同学,名字后面只有两个字的</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentname` <span class="keyword">LIKE</span> <span class="string">&#x27;刘__&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询名字中间有嘉字的同学_%嘉%_</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentname` <span class="keyword">LIKE</span> <span class="string">&#x27;_%嘉%_&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ================in==============</span></span><br><span class="line"><span class="comment">-- 查询1001,1002,1003的学生</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentno` <span class="keyword">IN</span> (<span class="number">1001</span>,<span class="number">1002</span>,<span class="number">1003</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询在安徽的学生  in 是具体的一个或者是多个值</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `address` <span class="keyword">IN</span> (<span class="string">&#x27;安徽&#x27;</span>,<span class="string">&#x27;河南&#x27;</span>,<span class="string">&#x27;洛阳&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ==========null 和 not null================</span></span><br><span class="line"><span class="comment">-- 插叙地址为null &#x27;&#x27;的同学</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `address`<span class="operator">=</span><span class="string">&#x27;&#x27;</span> <span class="keyword">OR</span> `address` <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询有出生日期的同学</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `BornDate` <span class="keyword">IS</span> <span class="keyword">NOT NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询没有出生日期的同学</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `BornDate` <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;<strong>注意： 在是不是null 的时候要用is，不是等于</strong>&#x3D;&#x3D;</p>
<h3 id="4-4联表查询"><a href="#4-4联表查询" class="headerlink" title="4.4联表查询"></a>4.4联表查询</h3><blockquote>
<p>JOIN对比</p>
</blockquote>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039440.png" alt="image-20200907122912329"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039007.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ============联表查询Join=================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询参加考试的同学（学号，姓名，科目编号，分数）</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">分析需求： 分析需求的字段来自那些表</span></span><br><span class="line"><span class="comment">确定使用哪种连接查询</span></span><br><span class="line"><span class="comment">确定一个交叉点（这两个表中那个数据是相同的）</span></span><br><span class="line"><span class="comment">判断的条件： 学生表中的`studentno` == 成绩表中的 `studentno`</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- join（连接的表） on（判断的条件） 连接查询</span></span><br><span class="line"><span class="comment">-- where 等值查询</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- inner join   as 可以省略</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`,`subjectno`,`studentresult` </span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> `s`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">WHERE</span> r.`StudentNo`<span class="operator">=</span>s.`StudentNo`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- right join</span></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno`,`s`.`studentname`,`r`.`subjectno`,`r`.`studentresult` </span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> `s`</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="comment">-- WHERE r.`StudentNo`=s.`StudentNo`;</span></span><br><span class="line"><span class="keyword">ON</span> `r`.`StudentNo`<span class="operator">=</span>`s`.`StudentNo`;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- left join</span></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno`,`s`.`studentname`,`r`.`subjectno`,`r`.`studentresult` </span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> `s`</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="comment">-- WHERE r.`StudentNo`=s.`StudentNo`;</span></span><br><span class="line"><span class="keyword">ON</span> `r`.`StudentNo`<span class="operator">=</span>`s`.`StudentNo`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询缺考的同学</span></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno`,`s`.`studentname`,`r`.`subjectno`,`r`.`studentresult` </span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> `s`</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="comment">-- WHERE r.`StudentNo`=s.`StudentNo`;</span></span><br><span class="line"><span class="keyword">ON</span> `r`.`StudentNo`<span class="operator">=</span>`s`.`StudentNo`</span><br><span class="line"><span class="keyword">WHERE</span> `r`.`studentresult` <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询了参加了考试的同学的信息（学号，姓名，科目名称，分数）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">分析需求： 分析需求的字段来自那些表  student result subject</span></span><br><span class="line"><span class="comment">确定使用哪种连接查询</span></span><br><span class="line"><span class="comment">确定一个交叉点（这两个表中那个数据是相同的）</span></span><br><span class="line"><span class="comment">判断的条件： 学生表中的`studentno` == 成绩表中的 `studentno`</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno` <span class="keyword">AS</span> <span class="string">&#x27;学号&#x27;</span>,`studentname` <span class="keyword">AS</span> <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`subjectname` <span class="keyword">AS</span> <span class="string">&#x27;科目名称&#x27;</span>,`studentresult` <span class="keyword">AS</span> <span class="string">&#x27;成绩&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> `s` <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">ON</span> `s`.`studentno` <span class="operator">=</span> `r`.`studentno`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> `sub`</span><br><span class="line"><span class="keyword">ON</span> `sub`.`subjectno` <span class="operator">=</span> `r`.`subjectno`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 我要查那些数据 select ....</span></span><br><span class="line"><span class="comment">-- 从那几个表中查询 from 表 xxxx join 连接的表  on  交叉的条件</span></span><br><span class="line"><span class="comment">-- 假设存在多张表查询，慢慢来，先查询两张表，然后再慢慢查询</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- from a left join b</span></span><br><span class="line"><span class="comment">-- from a right join b</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">操作</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">inner join</td>
<td align="center">如果表中至少有一个匹配，就返回行</td>
</tr>
<tr>
<td align="center">left join</td>
<td align="center">即使右表中没有匹配，也会从左表中返回所有的值</td>
</tr>
<tr>
<td align="center">right join</td>
<td align="center">会从右表中返回所有的值，即使左表中没有匹配</td>
</tr>
</tbody></table>
<blockquote>
<p>自连接</p>
</blockquote>
<p>&#x3D;&#x3D;<strong>自己的表和自己的表连接， 核心： 一张表拆为两张一样的表即可</strong>&#x3D;&#x3D;</p>
<p>父类：</p>
<table>
<thead>
<tr>
<th align="center">categoryid</th>
<th align="center">categoryname</th>
</tr>
</thead>
<tbody><tr>
<td align="center">2</td>
<td align="center">信息技术</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">软件开发</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">美术设计</td>
</tr>
</tbody></table>
<p>子类</p>
<table>
<thead>
<tr>
<th align="center">pid</th>
<th align="center">categoryid</th>
<th align="center">categoryname</th>
</tr>
</thead>
<tbody><tr>
<td align="center">3</td>
<td align="center">4</td>
<td align="center">数据库</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">8</td>
<td align="center">办公信息</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">6</td>
<td align="center">web开发</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">7</td>
<td align="center">美术设计</td>
</tr>
</tbody></table>
<p>操作： 查询父类对用子类关系</p>
<table>
<thead>
<tr>
<th align="center">父类</th>
<th align="center">子类</th>
</tr>
</thead>
<tbody><tr>
<td align="center">信息技术</td>
<td align="center">办公信息</td>
</tr>
<tr>
<td align="center">软件开发</td>
<td align="center">数据库</td>
</tr>
<tr>
<td align="center">软件开发</td>
<td align="center">web开发</td>
</tr>
<tr>
<td align="center">美术设计</td>
<td align="center">ps技术</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =============自连接====================</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `category`(</span><br><span class="line">`categoryid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;主题id&#x27;</span>,</span><br><span class="line">`pid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;父id&#x27;</span>,</span><br><span class="line">`categoryname` <span class="type">VARCHAR</span>(<span class="number">50</span>)  <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;主题名字&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`categoryid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB AUTO_INCREMENT<span class="operator">=</span><span class="number">9</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="keyword">INSERT INTO</span> `category` (`categoryid`,`pid`,`categoryname`)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;信息技术&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;软件开发&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;数据库&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;美术设计&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;web开发&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;ps技术&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;办公信息&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询父子信息 把一张表拆成两张一样的表</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> `a`.`categoryname` <span class="keyword">AS</span> <span class="string">&#x27;父栏目&#x27;</span>,`b`.`categoryname` <span class="keyword">AS</span> <span class="string">&#x27;子栏目&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> `category` <span class="keyword">AS</span> `a` , `category` <span class="keyword">AS</span> `b`</span><br><span class="line"><span class="keyword">WHERE</span> `a`.`categoryid` <span class="operator">=</span> `b`.`pid`;</span><br></pre></td></tr></table></figure>

<h3 id="4-5分页和排序"><a href="#4-5分页和排序" class="headerlink" title="4.5分页和排序"></a>4.5分页和排序</h3><blockquote>
<p>排序</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =================分页和排序 order by===================</span></span><br><span class="line"><span class="comment">-- 排序 ： 升序ASC 和降序 DESC</span></span><br><span class="line"><span class="comment">-- order by 通过那个字段进行排序，怎么拍 </span></span><br><span class="line"><span class="comment">-- 查询了参加了数据库结构-1考试的同学的信息（学号，姓名，科目名称，分数）  根据成绩排序</span></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno`,`studentname`,`subjectname`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> `s` <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">ON</span> `s`.`studentno` <span class="operator">=</span> `r`.`studentno`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> `sub`</span><br><span class="line"><span class="keyword">ON</span> `r`.`subjectno` <span class="operator">=</span> `sub`.`subjectno`</span><br><span class="line"><span class="keyword">WHERE</span> `sub`.`subjectname` <span class="operator">=</span> <span class="string">&#x27;数据库结构-1&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>分页</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 100万</span></span><br><span class="line"><span class="comment">-- 分页</span></span><br><span class="line"><span class="comment">-- 环境： 数据库压力  给人的体验更好   瀑布流（图片）</span></span><br><span class="line"><span class="comment">-- 分页， 每页只显示五条数据</span></span><br><span class="line"><span class="comment">-- 网页： 当前页  总的页数  页面大小</span></span><br><span class="line"><span class="comment">-- limit 当前页  页面的大小</span></span><br><span class="line"><span class="comment">-- LIMIT 1,5; -- 2到6调数据</span></span><br><span class="line"><span class="comment">-- limit 0,5;-- 1到5调数据</span></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno`,`studentname`,`subjectname`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> `s` <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">ON</span> `s`.`studentno` <span class="operator">=</span> `r`.`studentno`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> `sub`</span><br><span class="line"><span class="keyword">ON</span> `r`.`subjectno` <span class="operator">=</span> `sub`.`subjectno`</span><br><span class="line"><span class="keyword">WHERE</span> `sub`.`subjectname` <span class="operator">=</span> <span class="string">&#x27;数据库结构-1&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">ASC</span></span><br><span class="line">LIMIT <span class="number">1</span>,<span class="number">5</span>; <span class="comment">-- 1到5调数据</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 第一页   limit 0,5    (i-1)*5</span></span><br><span class="line"><span class="comment">-- 第二页   limit 5,5    (i-1)*5</span></span><br><span class="line"><span class="comment">-- 第三页   limit 10,5</span></span><br><span class="line"><span class="comment">-- 第二页   limit 0,5    (n-1)*pagesize,pagesize</span></span><br><span class="line"><span class="comment">-- pagesize 页面的大小  (n-1)*pagesize起始值  n代表当前页</span></span><br><span class="line"><span class="comment">-- 总数 [n代表当前页]  </span></span><br><span class="line"><span class="comment">-- 总页数=总数/页面的大小</span></span><br></pre></td></tr></table></figure>

<p><code>语法：limit(查询起始下标 ， pagesize)</code></p>
<p>小练习：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询java第一学年 课程成绩排名前十的学生  并且分数大于80的学生的信息</span></span><br><span class="line"><span class="comment">-- （学号，姓名，课程名称，分数）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno`,`studentname`,`subjectname`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> `s` <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">ON</span> `s`.`studentno` <span class="operator">=</span> `r`.`studentno`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> `sub`</span><br><span class="line"><span class="keyword">ON</span> `sub`.`subjectno` <span class="operator">=</span> `r`.`subjectno`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span> <span class="string">&#x27;JAVA第一学年&#x27;</span> <span class="keyword">AND</span> `studentresult` <span class="operator">&gt;</span> <span class="number">80</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">DESC</span></span><br><span class="line">LIMIT <span class="number">0</span>,<span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-6子查询"><a href="#4-6子查询" class="headerlink" title="4.6子查询"></a>4.6子查询</h3><p>where（值是固定的 ， 这个值是计算出来的）</p>
<p>本质：<code>在where语句中嵌套一个子查询语句</code></p>
<p>where （select * from ..）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =============where============</span></span><br><span class="line"><span class="comment">-- 查询数据库结构-1的所有考试结果（学号 ， 科目编号 ， 成绩） ，降序排列</span></span><br><span class="line"><span class="comment">-- 方式一</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`sub`.`subjectno`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> r </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> `sub`</span><br><span class="line"><span class="keyword">ON</span> `sub`.`subjectno` <span class="operator">=</span> `r`.`subjectno`</span><br><span class="line"><span class="keyword">WHERE</span> `sub`.`subjectname` <span class="operator">=</span> <span class="string">&#x27;数据库结构-1&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">DESC</span>;</span><br><span class="line"><span class="comment">-- 方式二： （使用子查询）(由里及外)</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`subjectno`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectno` <span class="operator">=</span> (</span><br><span class="line"><span class="keyword">SELECT</span> `subjectno` <span class="keyword">FROM</span> `subject`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span> <span class="string">&#x27;数据库结构-1&#x27;</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">DESC</span>;</span><br><span class="line"><span class="comment">-- 分数不小于80分的学生的学号和姓名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> `s`.`studentno`,`studentname`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> `s` <span class="keyword">INNER</span> <span class="keyword">JOIN</span></span><br><span class="line">`<span class="keyword">result</span>` <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">ON</span> `s`.`studentno` <span class="operator">=</span> `r`.`studentno`</span><br><span class="line"><span class="keyword">WHERE</span> `studentresult` <span class="operator">&gt;</span> <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 在这个基础上增加一个高等数学-2  查询高等数学-2的编号</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> `s`.`studentno`,`studentname`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> `s` <span class="keyword">INNER</span> <span class="keyword">JOIN</span></span><br><span class="line">`<span class="keyword">result</span>` <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">ON</span> `s`.`studentno` <span class="operator">=</span> `r`.`studentno`</span><br><span class="line"><span class="keyword">WHERE</span> `studentresult` <span class="operator">&gt;</span> <span class="number">80</span> </span><br><span class="line"><span class="keyword">AND</span> `subjectno` <span class="operator">=</span> (</span><br><span class="line"><span class="keyword">SELECT</span> `subjectno` </span><br><span class="line"><span class="keyword">FROM</span> `subject` </span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span> <span class="string">&#x27;高等数学-2&#x27;</span></span><br><span class="line">); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询课程为高等数学-2 且分数不小于80分的同学的学号和姓名</span></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno`,`studentname`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> `s` </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">ON</span> `s`.`studentno` <span class="operator">=</span> `r`.`studentno`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> `sub`</span><br><span class="line"><span class="keyword">ON</span> `sub`.`subjectno` <span class="operator">=</span> `r`.`subjectno`</span><br><span class="line"><span class="keyword">WHERE</span> `studentresult` <span class="operator">&gt;</span> <span class="number">80</span> </span><br><span class="line"><span class="keyword">AND</span> `sub`.`subjectname` <span class="operator">=</span> <span class="string">&#x27;高等数学-2&#x27;</span>;</span><br><span class="line"><span class="comment">-- 嵌套再改造(过程还是由里及外) </span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentno` <span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> `studentno` </span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">WHERE</span> `studentresult`<span class="operator">&gt;</span><span class="number">80</span> </span><br><span class="line"><span class="keyword">AND</span> `subjectno` <span class="operator">=</span> (<span class="keyword">SELECT</span> `subjectno` </span><br><span class="line"><span class="keyword">FROM</span> `subject` </span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span> <span class="string">&#x27;高等数学-2&#x27;</span>)</span><br><span class="line"> );</span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 查询c语言-1 前五名同学的成绩信息（学号 姓名 分数）</span></span><br><span class="line"><span class="comment">-- 使用子查询</span></span><br><span class="line"><span class="keyword">SELECT</span> `s`.`studentno`,`studentname`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> `s` </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> `r`</span><br><span class="line"><span class="keyword">WHERE</span>`s`.`studentno` <span class="operator">=</span> `r`.`studentno`	  </span><br><span class="line"><span class="keyword">AND</span> `subjectno` <span class="operator">=</span> (</span><br><span class="line"><span class="keyword">SELECT</span> `subjectno`</span><br><span class="line"><span class="keyword">FROM</span> `subject`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span> <span class="string">&#x27;c语言-1&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">DESC</span></span><br><span class="line">LIMIT <span class="number">0</span>,<span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;<strong>注意where子查询是比较快的，因为它不负责连接</strong>&#x3D;&#x3D;</p>
<h3 id="4-7分组和过滤"><a href="#4-7分组和过滤" class="headerlink" title="4.7分组和过滤"></a>4.7分组和过滤</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询不同课程的平均分 最高分 最低分  平均分大于80分</span></span><br><span class="line"><span class="comment">-- 核心： 分组进行查询</span></span><br><span class="line"><span class="keyword">SELECT</span> `subjectname` , <span class="built_in">AVG</span>(`studentresult`) <span class="keyword">AS</span> <span class="string">&#x27;平均分&#x27;</span>,</span><br><span class="line"><span class="built_in">MAX</span>(`studentresult`) <span class="keyword">AS</span> <span class="string">&#x27;最高分&#x27;</span>,<span class="built_in">MIN</span>(`studentresult`) <span class="keyword">AS</span> <span class="string">&#x27;最低分&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> `r` <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> `sub`</span><br><span class="line"><span class="keyword">ON</span> `r`.`SubjectNo` <span class="operator">=</span> `sub`.`SubjectNo`</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> `r`.`SubjectNo`</span><br><span class="line"><span class="keyword">HAVING</span> 平均分 <span class="operator">&gt;=</span> <span class="number">80</span>; <span class="comment">-- 通过什么字段进行分组</span></span><br></pre></td></tr></table></figure>

<h3 id="4-8select小结"><a href="#4-8select小结" class="headerlink" title="4.8select小结"></a>4.8select小结</h3><p>淘宝每个人登录的时候的首页都是不同的</p>
<h2 id="5-MySQL函数"><a href="#5-MySQL函数" class="headerlink" title="5.MySQL函数"></a>5.MySQL函数</h2><p>官网 ：<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.7/en/sql-function-reference.html">https://dev.mysql.com/doc/refman/5.7/en/sql-function-reference.html</a></p>
<h3 id="5-1常用函数（并不常用）"><a href="#5-1常用函数（并不常用）" class="headerlink" title="5.1常用函数（并不常用）"></a>5.1常用函数（并不常用）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ===========常用函数==================</span></span><br><span class="line"><span class="comment">-- 数学函数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-8</span>); <span class="comment">-- 绝对值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEILING</span>(<span class="number">9.4</span>); <span class="comment">-- 向上取整</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">9.4</span>);  <span class="comment">-- 向下取整</span></span><br><span class="line"><span class="keyword">SELECT</span> RAND(); <span class="comment">-- 0到1之间的随机数</span></span><br><span class="line"><span class="keyword">SELECT</span> SIGN(<span class="number">-8</span>);  <span class="comment">-- 判断一个数的符号  负数返回负一 正数返回1 0 返回0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 字符串函数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CHAR_LENGTH</span>(<span class="string">&#x27;即使再小的帆也能远航&#x27;</span>);  <span class="comment">-- 字符长长度</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;我&#x27;</span>,<span class="string">&#x27;爱&#x27;</span>,<span class="string">&#x27;你们&#x27;</span>);  <span class="comment">-- 拼接字符串</span></span><br><span class="line"><span class="comment">-- 查询，替换  从某个位置开始替换某个长度</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">INSERT</span>(<span class="string">&#x27;我爱编程helloworld&#x27;</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;超级热爱&#x27;</span>); </span><br><span class="line"><span class="comment">-- 转大写或者是小写字母</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(<span class="string">&#x27;Kuangshen&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">UPPER</span>(<span class="string">&#x27;Kuangshen&#x27;</span>);</span><br><span class="line"><span class="comment">-- 查看是第几个字符</span></span><br><span class="line"><span class="keyword">SELECT</span> INSTR(<span class="string">&#x27;kuangshen&#x27;</span>,<span class="string">&#x27;h&#x27;</span>); </span><br><span class="line"><span class="comment">-- 替换指定的字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> REPLACE(<span class="string">&#x27;坚持就能成功&#x27;</span>,<span class="string">&#x27;坚持&#x27;</span>,<span class="string">&#x27;努力&#x27;</span>); </span><br><span class="line"><span class="comment">-- 截取指定的字符串（原字符串，截取的位置，截取的长度）</span></span><br><span class="line"><span class="keyword">SELECT</span> SUBSTR(<span class="string">&#x27;狂神坚持就能成功&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">-- 反转字符串 </span></span><br><span class="line"><span class="keyword">SELECT</span> REVERSE(<span class="string">&#x27;狂神坚持就能成功&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓周的同学， 名字周改为邹</span></span><br><span class="line"><span class="keyword">SELECT</span> REPLACE(`studentname`,<span class="string">&#x27;周&#x27;</span>,<span class="string">&#x27;邹&#x27;</span>) <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentname` <span class="keyword">LIKE</span> <span class="string">&#x27;周%&#x27;</span>;</span><br><span class="line"><span class="comment">-- 时间和日期函数（记住）</span></span><br><span class="line"><span class="comment">-- 获取当前日期</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_DATE</span>();  </span><br><span class="line"><span class="keyword">SELECT</span> CURDATE();</span><br><span class="line"><span class="comment">-- 获取当前的时间</span></span><br><span class="line"><span class="keyword">SELECT</span> NOW();</span><br><span class="line"><span class="comment">-- 获取本地时间</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOCALTIME</span>();</span><br><span class="line"><span class="comment">-- 系统时间</span></span><br><span class="line"><span class="keyword">SELECT</span> SYSDATE();</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MONTH</span>(NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DAY</span>(NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">HOUR</span>(NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MINUTE</span>(NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SECOND</span>(NOW());</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 系统当前的用户</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SYSTEM_USER</span>();</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">USER</span>();</span><br><span class="line"><span class="keyword">SELECT</span> VERSION();</span><br></pre></td></tr></table></figure>

<h3 id="5-2聚合函数"><a href="#5-2聚合函数" class="headerlink" title="5.2聚合函数"></a>5.2聚合函数</h3><table>
<thead>
<tr>
<th align="center">函数名称</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">COUNT()</td>
<td align="center">计数</td>
</tr>
<tr>
<td align="center">SUM()</td>
<td align="center">求和</td>
</tr>
<tr>
<td align="center">AVG()</td>
<td align="center">平均数</td>
</tr>
<tr>
<td align="center">MAX()</td>
<td align="center">最大值</td>
</tr>
<tr>
<td align="center">MIN()</td>
<td align="center">最小值</td>
</tr>
<tr>
<td align="center">…</td>
<td align="center">…</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ==========聚合函数============</span></span><br><span class="line"><span class="comment">-- count(指定列)  会忽略所有的null值</span></span><br><span class="line"><span class="comment">-- count(*) 包括了所有的列，相当于行数，在统计结果的时候，不会忽略值为null</span></span><br><span class="line"><span class="comment">-- count(1)  包括了忽略所有列，用1代表代码行，不会忽略列值为null</span></span><br><span class="line"><span class="comment">-- 列为主键 count(列名) 比count（1）快</span></span><br><span class="line"><span class="comment">-- 想查询一个表中有多少记录count（）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(`studentname`) <span class="keyword">FROM</span> `student`;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> `student`;  <span class="comment">-- 本质： 计算行数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="number">1</span>) <span class="keyword">FROM</span> `student`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(`studentresult`) <span class="keyword">AS</span> <span class="string">&#x27;总和&#x27;</span> <span class="keyword">FROM</span> `<span class="keyword">result</span>`;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(`studentresult`) <span class="keyword">AS</span> <span class="string">&#x27;平均数&#x27;</span> <span class="keyword">FROM</span> `<span class="keyword">result</span>`;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(`studentresult`) <span class="keyword">AS</span> <span class="string">&#x27;最高分&#x27;</span> <span class="keyword">FROM</span> `<span class="keyword">result</span>`;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(`studentresult`) <span class="keyword">AS</span> <span class="string">&#x27;最低分&#x27;</span> <span class="keyword">FROM</span> `<span class="keyword">result</span>`;</span><br></pre></td></tr></table></figure>

<h3 id="5-3数据库级别的MD5加密（扩展）"><a href="#5-3数据库级别的MD5加密（扩展）" class="headerlink" title="5.3数据库级别的MD5加密（扩展）"></a>5.3数据库级别的MD5加密（扩展）</h3><p>什么是MD5： </p>
<ul>
<li>主要是增强算法的复杂度和不可逆性</li>
<li>MD5不可逆，具体的值的MD5是一样的</li>
<li>MD5破解网站的原理，背后有一个字典，MD5加密后的值 加密的前值</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ============测试MD5加密========</span></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `testmd5`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 明文密码</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> `testmd5` <span class="keyword">VALUES</span> </span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),</span><br><span class="line">(<span class="number">4</span>,<span class="string">&#x27;陈留红&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),</span><br><span class="line">(<span class="number">5</span>,<span class="string">&#x27;孙子&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line"><span class="comment">-- 加密</span></span><br><span class="line"><span class="keyword">UPDATE</span> `testmd5` <span class="keyword">SET</span> pwd<span class="operator">=</span>MD5(pwd) <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="comment">-- 加密全部的密码</span></span><br><span class="line"><span class="keyword">UPDATE</span> `testmd5` <span class="keyword">SET</span> pwd<span class="operator">=</span>MD5(pwd);</span><br><span class="line"><span class="comment">-- 插入的时候加密</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> `testmd5` <span class="keyword">VALUES</span>(<span class="number">6</span>,<span class="string">&#x27;杜志明&#x27;</span>,MD5(<span class="string">&#x27;123456&#x27;</span>));</span><br><span class="line"><span class="comment">-- 如何校验  ： 将用户传递进来的密码进行md5加密，然后比对加密的值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `testmd5` <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;陈留红&#x27;</span> <span class="keyword">AND</span> pwd<span class="operator">=</span>MD5(<span class="string">&#x27;123456&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="6-事务"><a href="#6-事务" class="headerlink" title="6.事务"></a>6.事务</h2><h3 id="6-1什么是事务"><a href="#6-1什么是事务" class="headerlink" title="6.1什么是事务"></a>6.1什么是事务</h3><p>&#x3D;&#x3D;要么都成功，要么都失败&#x3D;&#x3D;</p>
<p>一一一一一一一一一一一一一一一一</p>
<p>1.sql执行  a给b转账  a  1000  —-》 200  b</p>
<p>2.sql执行 b收到a的钱  a 800 —-》 b 400</p>
<p>一一一一一一一一一一一一一一一一</p>
<p>将一组sql放在一个批次中去执行</p>
<p>innodb，在最新版的myisam也是支持的</p>
<blockquote>
<p>事务原则： ACID  原子性（Atomicity）、一致性（Consistency）、隔离性（Isolation）、持久性 （Durability）  （脏读，幻读 …）</p>
</blockquote>
<p>&#x3D;&#x3D;<strong>原子性  Atomicity</strong>&#x3D;&#x3D;</p>
<p>要么都成功，要么都失败</p>
<p>&#x3D;&#x3D;<strong>一致性  Consistency</strong>&#x3D;&#x3D;</p>
<p>事务前后的数据完整性要保持一致</p>
<p>&#x3D;&#x3D;<strong>持久性   Durability</strong>&#x3D;&#x3D;</p>
<p>事务一旦提交则不可逆转，被持久化到数据库中</p>
<p>&#x3D;&#x3D;<strong>隔离性  Isolation</strong>&#x3D;&#x3D;</p>
<p>事务的隔离性是多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他的操作数据干扰，事务之间要互相隔离</p>
<blockquote>
<p>隔离所导致的一些问题： </p>
</blockquote>
<ul>
<li><p>脏读： 指一个是务读取了另一个事务未提交的数据</p>
</li>
<li><p>不可重复读： 在一个事务内读取表中的某一行数据，多次读的结果不同（这个不一定是错误，只是某些场合不对）</p>
</li>
<li><p>幻读： 是指在一个事务内读取到了别的事务插入的数据，导致前后读取不一致</p>
</li>
</ul>
<blockquote>
<p>事务</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =========事务========</span></span><br><span class="line"><span class="comment">-- mysql是默认开启事务自动提交的</span></span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 关闭</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 手动处理事务</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 事务开启</span></span><br><span class="line"><span class="comment">-- 标志事务的开始，从这个之后的sql都在同一个事务内</span></span><br><span class="line"><span class="keyword">START</span> TRANSACTION;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 提交 持久化</span></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="comment">-- 回滚  回到原来的样子</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"><span class="comment">-- 事务结束</span></span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">1</span>; <span class="comment">-- 开启</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SAVEPOINT</span> 保存点名;  <span class="comment">-- 保存点名 设置一个事务的保存点</span></span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> <span class="keyword">SAVEPOINT</span> 保存点名; <span class="comment">-- 回滚到保存点位置</span></span><br><span class="line"><span class="keyword">RELEASE</span> <span class="keyword">SAVEPOINT</span> 保存点名; <span class="comment">-- 删除保存点</span></span><br></pre></td></tr></table></figure>



<p>事务流程图</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039465.png" alt="image-20200909154708625"></p>
<blockquote>
<p>模拟场景</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 转账</span></span><br><span class="line"><span class="keyword">CREATE</span> DATABASE shop <span class="keyword">CHARACTER SET</span> utf8 </span><br><span class="line"><span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line">USE shop;</span><br><span class="line"><span class="keyword">CREATE TABLE</span> `account`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">3</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`money` <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `account`;</span><br><span class="line"><span class="keyword">INSERT INTO</span> `account`(`name`,`money`) </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;A&#x27;</span>,<span class="number">2000.00</span>),(<span class="string">&#x27;B&#x27;</span>,<span class="number">10000.00</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 模拟转账</span></span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 关闭自动提交</span></span><br><span class="line"><span class="keyword">START</span> TRANSACTION; <span class="comment">-- 开启事务</span></span><br><span class="line"><span class="keyword">UPDATE</span> `account` <span class="keyword">SET</span> `money` <span class="operator">=</span> `money`<span class="number">-500</span> <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;A&#x27;</span>;  <span class="comment">--A减500</span></span><br><span class="line"><span class="keyword">UPDATE</span> `account` <span class="keyword">SET</span> `money` <span class="operator">=</span> `money`<span class="operator">+</span><span class="number">500</span> <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;B&#x27;</span>;  <span class="comment">--B加500</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COMMIT</span>; <span class="comment">-- 提交事务</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ROLLBACK</span>; <span class="comment">-- 回滚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">1</span>; <span class="comment">-- 恢复默认值</span></span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;注意： 这里是手动点的，在java中使用的是try catch，在执行失败的时候自己会回滚&#x3D;&#x3D;</p>
<h2 id="7-索引"><a href="#7-索引" class="headerlink" title="7.索引"></a>7.索引</h2><p>MySQL官方对索引的定义为：&#x3D;&#x3D;索引（Index） 是帮助MySQL高效获取数据的数据结构&#x3D;&#x3D;。</p>
<p>&#x3D;&#x3D;提取句子主干，就可以得到索引的本质；索引是数据结构&#x3D;&#x3D;</p>
<h3 id="7-1索引的分类"><a href="#7-1索引的分类" class="headerlink" title="7.1索引的分类"></a>7.1索引的分类</h3><blockquote>
<p>在一个表中，主键索引只能有一个，唯一索引可以有多个</p>
</blockquote>
<ul>
<li>主键索引  &#x3D;&#x3D;PRIMARY KEY&#x3D;&#x3D;<ul>
<li>唯一的标识，主键不可重复，只能有一个主键索引</li>
</ul>
</li>
<li>唯一索引 &#x3D;&#x3D;UNIQUE KEY&#x3D;&#x3D;<ul>
<li>避免重读的列出现，唯一索引可以重复， 多个列都可以标识唯一索引</li>
</ul>
</li>
<li>常规索引 &#x3D;&#x3D;KEY&#x2F;index&#x3D;&#x3D;<ul>
<li>默认的，index关键字或者是key关键字设置</li>
</ul>
</li>
<li>全文索引  &#x3D;&#x3D;FUllText&#x3D;&#x3D;<ul>
<li>在特定的数据库引擎下才有 myisam</li>
<li>快速定位数据</li>
</ul>
</li>
</ul>
<blockquote>
<p>基础语法</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 索引的使用</span></span><br><span class="line"><span class="comment">-- 在创建表的时候给字段增加索引</span></span><br><span class="line"><span class="comment">-- 创建完毕后增加索引</span></span><br><span class="line"><span class="comment">-- 显示所有的索引信息</span></span><br><span class="line">USE `school`;</span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> `student`;</span><br><span class="line"><span class="comment">-- 增加一个索引</span></span><br><span class="line"><span class="comment">-- ALTER  TABLE 数据库的表 ADD FULLTEXT INDEX `索引名`(`索引的列`);</span></span><br><span class="line"><span class="keyword">ALTER  TABLE</span> `school`.`student` <span class="keyword">ADD</span> FULLTEXT INDEX `studentname`(`studentname`);</span><br><span class="line"><span class="comment">-- EXPLAIN 分析sql执行的状况</span></span><br><span class="line"></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `student`; <span class="comment">-- 非全文索引</span></span><br><span class="line"></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `student` <span class="keyword">WHERE</span> <span class="keyword">MATCH</span>(`studentname`) AGAINST(<span class="string">&#x27;刘&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="7-2测试索引"><a href="#7-2测试索引" class="headerlink" title="7.2测试索引"></a>7.2测试索引</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> `app_user`(</span><br><span class="line">`id` <span class="type">BIGINT</span>(<span class="number">20</span>) UNSIGNED <span class="keyword">NOT NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;用户的id&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;用户的名字&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;用户邮箱&#x27;</span>,</span><br><span class="line">`phone` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;手机号&#x27;</span>,</span><br><span class="line">`gender` TINYINT(<span class="number">4</span>) UNSIGNED <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> COMMENT <span class="string">&#x27;性别（0为男，1为女）&#x27;</span>,</span><br><span class="line">`password` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`age` TINYINT(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> COMMENT <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">`create_time` DATETIME <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line">`update_time` <span class="type">TIMESTAMP</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT <span class="string">&#x27;app用户表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入100万条数据  49.011秒插入1000000调数据</span></span><br><span class="line"><span class="comment">-- 必须写，当做标志</span></span><br><span class="line">DELIMITER $$ </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> mock_data()</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="type">INT</span> <span class="keyword">DETERMINISTIC</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">	<span class="keyword">DECLARE</span> num <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">1000000</span>;</span><br><span class="line">	<span class="keyword">DECLARE</span> i <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br><span class="line">	WHILE i<span class="operator">&lt;</span>num DO</span><br><span class="line">		<span class="keyword">INSERT INTO</span> `app_user`(`name`,`email`,`phone`,`gender`,`password`,`age`) <span class="keyword">VALUES</span>(CONCAT(<span class="string">&#x27;用户&#x27;</span>,i),<span class="string">&#x27;1844736251@qq.com&#x27;</span>,CONCAT(<span class="string">&#x27;18&#x27;</span>,<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span>((<span class="number">999999999</span><span class="number">-100000000</span>)<span class="operator">+</span><span class="number">100000000</span>))),<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span><span class="number">2</span>),UUID(),<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span><span class="number">100</span>));</span><br><span class="line">		<span class="keyword">SET</span> i <span class="operator">=</span> i<span class="operator">+</span><span class="number">1</span>;</span><br><span class="line">	<span class="keyword">END</span> WHILE;</span><br><span class="line">	<span class="keyword">RETURN</span> i;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="keyword">SELECT</span> mock_data();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 耗时 0.607秒</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name` <span class="operator">=</span> <span class="string">&#x27;用户9999&#x27;</span>;</span><br><span class="line"><span class="comment">-- 耗时0秒</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `student`;</span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name` <span class="operator">=</span> <span class="string">&#x27;用户9999&#x27;</span>;</span><br><span class="line"><span class="comment">-- 创建索引相当与是使用了树  没加索引相当于是遍历，创建索引相当于是定位</span></span><br><span class="line"><span class="comment">-- id_表名_字段名</span></span><br><span class="line"><span class="comment">-- CREATE INDEX 索引名 ON `表名`(`字段名`);</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX id_app_user_name <span class="keyword">ON</span> `app_user`(`name`);</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;注意： 索引在小数据量的时候用处不大，但是在大数据的时候，区别十分明显&#x3D;&#x3D;</p>
<h3 id="7-3索引原则"><a href="#7-3索引原则" class="headerlink" title="7.3索引原则"></a>7.3索引原则</h3><ul>
<li>索引不是越多越好</li>
<li>不要对经常变动的数据加索引</li>
<li>小数据量的表不需要加索引</li>
<li>索引一般加在常用来查询的字段上</li>
</ul>
<blockquote>
<p>索引的数据结构</p>
</blockquote>
<p>Hash类型的索引，默认的是BTREE（INNODB的默认的底层的数据结构）</p>
<p>阅读： <a target="_blank" rel="noopener" href="http://blog.codinglabs.org/articles/theory-of-mysql-index.html">http://blog.codinglabs.org/articles/theory-of-mysql-index.html</a></p>
<h3 id="8-权限管理和数据库备份"><a href="#8-权限管理和数据库备份" class="headerlink" title="8.权限管理和数据库备份"></a>8.权限管理和数据库备份</h3><h3 id="8-1用户权限"><a href="#8-1用户权限" class="headerlink" title="8.1用户权限"></a>8.1用户权限</h3><blockquote>
<p>SQL yog 可视化管理</p>
</blockquote>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039762.png" alt="image-20200909184640059"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039602.png" alt="image-20200909184738429"></p>
<blockquote>
<p>SQL命令操作</p>
</blockquote>
<p>用户表： mysql.user</p>
<p>本质： 对这张表进行增删改查</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 用户</span></span><br><span class="line"><span class="comment">-- 创建用户  CREATE USER 用户名 IDENTIFIED BY &#x27;密码&#x27;;</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> timous IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改指定用户密码</span></span><br><span class="line"><span class="keyword">SET</span> PASSWORD <span class="operator">=</span> PASSWORD(<span class="string">&#x27;123456&#x27;</span>); <span class="comment">-- 8版本的不行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> PASSWORD <span class="keyword">FOR</span> timous <span class="operator">=</span> PASSWORD(<span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 重命名  RENAME USER 原来的名字 TO 新的名字;</span></span><br><span class="line">RENAME <span class="keyword">USER</span> timous <span class="keyword">TO</span> timous2;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 授予全部的权限  用户授权  除了给别人授权，其他的都能干</span></span><br><span class="line"><span class="comment">-- GRANT ALL PRIVILEGES ON 库.表 TO 用户;</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> timous2;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询权限  </span></span><br><span class="line"><span class="comment">-- 查看指定用户的权限</span></span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> timous2;</span><br><span class="line"><span class="comment">-- root 用户的权限 防止你删库跑路  </span></span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> root<span class="variable">@localhost</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 撤销权限</span></span><br><span class="line"><span class="comment">-- REVOKE ALL PRIVILEGES ON 库.表 FROM 用户;</span></span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">FROM</span> timous2;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除用户</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> kuangshen;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> kuangshen;</span><br></pre></td></tr></table></figure>

<h3 id="8-2数据库备份"><a href="#8-2数据库备份" class="headerlink" title="8.2数据库备份"></a>8.2数据库备份</h3><ul>
<li>保证重要的数据不丢失</li>
<li>数据转移</li>
</ul>
<p>MySQL数据库备份的方式:</p>
<ul>
<li>直接拷贝物理文件</li>
<li>使用sqlyog可视化工具中备份导出</li>
<li>命令行导出  mysqldump  命令行使用  是在cmd里面</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;mysqldump -hlocalhost -uroot -p123456 school student &gt;D:/a.sql</span><br><span class="line">mysqldump: [Warning] Using a password on the <span class="built_in">command</span> line interface can be insecure.</span><br><span class="line"></span><br><span class="line">mysqldump -h主机 -u用户名 -p密码 数据库名 表名1 表2 表3 &gt;磁盘位置:/文件名</span><br><span class="line"></span><br><span class="line">mysqldump -h主机 -u用户名 -p密码 数据库名 &gt;磁盘位置:/文件名</span><br><span class="line">mysql -uroot -p123456 <span class="comment"># 登录</span></span><br><span class="line"><span class="built_in">source</span> d:/a.sql就可以了</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入 </span></span><br><span class="line">登录的情况下直接<span class="built_in">source</span>就可以了（导入数据库不需要切换）</span><br><span class="line">mysql -uroot -p密码 库名&lt; 备份文件</span><br></pre></td></tr></table></figure>

<p>假设你要备份数据库，防止数据丢失，把数据库给朋友，sql文件给别人即可！</p>
<h4 id="9-规范数据库设计"><a href="#9-规范数据库设计" class="headerlink" title="9.规范数据库设计"></a>9.规范数据库设计</h4><h4 id="9-1为什么需要设计数据库"><a href="#9-1为什么需要设计数据库" class="headerlink" title="9.1为什么需要设计数据库"></a>9.1为什么需要设计数据库</h4><p>&#x3D;&#x3D;<strong>当数据库比较复杂的时候，我们就需要设计数据库了</strong>&#x3D;&#x3D;</p>
<p>糟糕的数据库设计</p>
<ul>
<li>数据冗余，浪费空间</li>
<li>数据库插入和删除都会麻烦，异常[屏蔽使用物理外键]</li>
<li>程序的性能差</li>
</ul>
<p>良好的数据库设计</p>
<ul>
<li>节省内存空间</li>
<li>保证数据库的完整性</li>
<li>方便我们开发系统</li>
</ul>
<p><strong>软件开发中，关于数据库的设计</strong></p>
<ul>
<li>需求分析： 分析业务和需要处理的数据库的需求</li>
<li>概要设计： 设计关系图 ER图</li>
</ul>
<p><strong>设计数据库的步骤（个人博客）</strong></p>
<ul>
<li>收集信息，分析需求<ul>
<li>用户表（用户登录注销，用户的个人信息，写博客，创建分类）</li>
<li>分类表（文章分类，谁创建的)</li>
<li>文章表（文章的信息）</li>
<li>友链表（友链信息）</li>
<li>自定义表（系统信息，某个关键的字，或者一些主字段） key value</li>
<li>评论表</li>
<li>说说表（发表心情   id  content   create_time  update_time）</li>
</ul>
</li>
<li>标识实体（把需求落实到每个字段）</li>
<li>标识实体之间的关系<ul>
<li>写博客 user—》blog</li>
<li>创建分类user—-》 category</li>
<li>关注user—-&gt;user</li>
<li>友链； link</li>
<li>评论： user—user—-blog</li>
</ul>
</li>
</ul>
<h3 id="9-2三大范式"><a href="#9-2三大范式" class="headerlink" title="9.2三大范式"></a>9.2三大范式</h3><p>为什么需要数据规范化：</p>
<ul>
<li>信息重复</li>
<li>更新异常</li>
<li>插入异常<ul>
<li>无法正常显示信息</li>
</ul>
</li>
<li>删除异常<ul>
<li>丢失有效的信息</li>
</ul>
</li>
</ul>
<blockquote>
<p>三大范式</p>
</blockquote>
<p>目前<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93/1237340">关系数据库</a>有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）</p>
<p>&#x3D;&#x3D;<strong>第一范式（1NF）：要求数据库表的每一列都是不可分割的原子数据项。</strong>&#x3D;&#x3D;</p>
<p>原子性： 每一列不可再分</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039472.png" alt="image-20200909222157627"></p>
<p>&#x3D;&#x3D;<strong>第二范式（2NF）：在1NF的基础上，非码属性必须完全依赖于候选码（在1NF基础上消除非主属性对主码的部分函数依赖）</strong>&#x3D;&#x3D;</p>
<p>前提： 满足第一范式</p>
<p>每张表只描述一件事</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039617.png" alt="image-20200909222325808"></p>
<p>&#x3D;&#x3D;<strong>第三范式（3NF）：在2NF基础上，任何非主<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%B1%9E%E6%80%A7">属性</a>不依赖于其它非主属性（在2NF基础上消除传递依赖）</strong>&#x3D;&#x3D;</p>
<p>前提： 满足第二范式的条件下消除依赖</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039606.png" alt="image-20200909222605677"></p>
<p>规范数据库的设计</p>
<p>规范性和性能问题：</p>
<p>阿里的规范： 关联的表不能超过三张</p>
<ul>
<li>考虑商业化的需求和目标（成本和用户的体验）  数据库的性能更加重要</li>
<li>在规范性能问题的时候，适当的去考虑一下规范性</li>
<li>故意给某些表增加一些冗余字段</li>
<li>订单： 商品id—查询商品     可以直接放商品的信息</li>
<li>故意增加一些计算列（每次增加的时候直接增加列加一，从大数据量降低为小数据量的查询： 添加索引）</li>
</ul>
<h2 id="10-jdbc"><a href="#10-jdbc" class="headerlink" title="10.jdbc"></a>10.jdbc</h2><h3 id="10-1数据库驱动"><a href="#10-1数据库驱动" class="headerlink" title="10.1数据库驱动"></a>10.1数据库驱动</h3><p>驱动： 声卡，显卡、数据库</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039368.png" alt="image-20200909223617999"></p>
<p>我们的程序会通过数据库驱动，和数据库打交道</p>
<h3 id="10-2JDBC"><a href="#10-2JDBC" class="headerlink" title="10.2JDBC"></a>10.2JDBC</h3><p>sun公司为了假话开发人员（对数据库同一）的操作，提供了一个（java操作数据库的）规范，俗称JDBC这些规范的实现由具体的厂商去做</p>
<p>对开发人员来说，我们只需要掌握JDBC的接口的操作即可</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039359.png" alt="image-20200909224013431"></p>
<p>java.sql</p>
<p>javax.sql</p>
<p>还需要导入数据库驱动包mysql-connector-java-8.0.11.jar</p>
<h3 id="10-3第一个JDBC程序"><a href="#10-3第一个JDBC程序" class="headerlink" title="10.3第一个JDBC程序"></a>10.3第一个JDBC程序</h3><blockquote>
<p>创建测试数据库</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `jdbcstudy` <span class="keyword">CHARACTER SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"></span><br><span class="line">USE `jdbcstudy`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> `users`(</span><br><span class="line">`id` <span class="type">INT</span>,</span><br><span class="line">`name`<span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">`password` <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">60</span>),</span><br><span class="line">`birthday` <span class="type">DATE</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span>(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT INTO</span> `users`(id,`name`,`password`,`email`,`birthday`)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;zs@sina.com&#x27;</span>,<span class="string">&#x27;1980-12-04&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;lisi@sina.com&#x27;</span>,<span class="string">&#x27;1980-12-04&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;wangwu&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;wangwu@sina.com&#x27;</span>,<span class="string">&#x27;1980-12-04&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `users`;</span><br></pre></td></tr></table></figure>

<p>1.创建一个普通项目</p>
<p>2.导入数据库驱动</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112039321.png" alt="image-20200909225615283"></p>
<p>3.编写测试代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">//我的第一个jdbc程序</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcFirstDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException &#123;</span><br><span class="line">        <span class="comment">//1.加载驱动</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>); <span class="comment">// 固定写法，加载驱动</span></span><br><span class="line">        <span class="comment">//2.用户信息和url</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://127.0.0.1:3306/jdbcstudy?serverTimezone=UTC&amp;amp&amp;useSSL=false&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="comment">//3.连接成功</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url,username,password);</span><br><span class="line">        <span class="comment">//4.执行sql的对象</span></span><br><span class="line">        <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        <span class="comment">//5.执行sql</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM `users`;&quot;</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> statement.executeQuery(sql);<span class="comment">//结果集中封装了对应的结果</span></span><br><span class="line">        <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;id=&quot;</span>+resultSet.getObject(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span>+resultSet.getObject(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;password=&quot;</span>+resultSet.getObject(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;email=&quot;</span>+resultSet.getObject(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;birthday=&quot;</span>+resultSet.getObject(<span class="string">&quot;birthday&quot;</span>));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//6、释放连接</span></span><br><span class="line">        resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>步骤总结：</p>
<ol>
<li>加载驱动</li>
<li>连接数据库DriverManager</li>
<li>获得执行sql的对象Statement</li>
<li>获得返回的结果集</li>
<li>释放连接</li>
</ol>
<blockquote>
<p>DriverManager</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.加载驱动</span></span><br><span class="line"><span class="comment">//  不推荐使用   DriverManager.registerDriver(new Driver()); 本身里面已经注册过来了</span></span><br><span class="line">Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>); <span class="comment">// 固定写法，加载驱动</span></span><br><span class="line"></span><br><span class="line"><span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url,username,password); </span><br><span class="line"><span class="comment">//代表数据库</span></span><br><span class="line"><span class="comment">// 可以提交或者是回滚等</span></span><br><span class="line"><span class="comment">//数据库设置自动提交</span></span><br><span class="line"><span class="comment">// 事务提交</span></span><br><span class="line"><span class="comment">// 事务回滚</span></span><br><span class="line"></span><br><span class="line">		connection.commit();</span><br><span class="line">        connection.rollback();</span><br><span class="line">        connection.setAutoCommit();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>URL</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.用户信息和url</span></span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://127.0.0.1:3306/jdbcstudy?serverTimezone=UTC&amp;amp&amp;useSSL=false&quot;</span>;</span><br><span class="line"><span class="comment">// mysql默认是3306   orcle默认是1521  orcle的表就是一个库  sqlserver  1433</span></span><br><span class="line"><span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Statement  执行sql的类   PreparedStatement</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM `users`;&quot;</span>; <span class="comment">//编写sql</span></span><br><span class="line"></span><br><span class="line"><span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line"></span><br><span class="line">statement.executeQuery(); <span class="comment">// 查询条件返回结果集</span></span><br><span class="line">statement.execute(); <span class="comment">//执行任何操作</span></span><br><span class="line">statement.executeUpdate();<span class="comment">// 更新、插入、删除，都是用这个，返回一个受影响的行数</span></span><br><span class="line"> statement.executeBatch();<span class="comment">//执行多个sql</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Result 查询的结果集  ： 封装了所有的查询结果</p>
</blockquote>
<p>获得指定的数据类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> statement.executeQuery(sql);<span class="comment">//结果集中封装了对应的结果</span></span><br><span class="line">resultSet.getObject(); <span class="comment">// 在不知道列类型的时候使用  知道的话直接使用</span></span><br><span class="line">resultSet.getString();</span><br><span class="line">resultSet.</span><br><span class="line">    </span><br><span class="line">遍历，指针</span><br><span class="line"><span class="comment">//获取结果集</span></span><br><span class="line">    <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;id=&quot;</span>+resultSet.getObject(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span>+resultSet.getObject(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;password=&quot;</span>+resultSet.getObject(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;email=&quot;</span>+resultSet.getObject(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;birthday=&quot;</span>+resultSet.getObject(<span class="string">&quot;birthday&quot;</span>));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		resultSet.beforeFirst(); <span class="comment">//移动到最前面一行</span></span><br><span class="line">        resultSet.afterLast();<span class="comment">//移动到最后面一行</span></span><br><span class="line">		resultSet.next();<span class="comment">//移动到下一个</span></span><br><span class="line">		resultset.previous();<span class="comment">//移动到前一行</span></span><br><span class="line">		resultset.absolute(row);<span class="comment">//移动到指定行</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>释放资源</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//6、释放连接</span></span><br><span class="line">resultSet.close();</span><br><span class="line">statement.close();</span><br><span class="line">connection.close();</span><br></pre></td></tr></table></figure>

<h3 id="10-4Statement对象"><a href="#10-4Statement对象" class="headerlink" title="10.4Statement对象"></a>10.4Statement对象</h3><p>&#x3D;&#x3D;Jdbc中的statement对象用于向数据库发送sql语句，想完成数据库的增删改查，只需要通过这个对象向数据库发送增删改查语句即可。&#x3D;&#x3D;</p>
<p>Statement对象的&#x3D;&#x3D;executeUpdate&#x3D;&#x3D;方法，用于向数据库发送&#x3D;&#x3D;增删改&#x3D;&#x3D;的sql语句，executeUpdate执行完后，将会返回一个整数（即增删改语句导致了数据库几行数据发生了变化）</p>
<p>&#x3D;&#x3D;Statement.executeQuery&#x3D;&#x3D;方法返回代表&#x3D;&#x3D;查询&#x3D;&#x3D;结果的ResultSet对象</p>
<blockquote>
<p>CRUD操作-create</p>
</blockquote>
<p>使用executeUpdate（String sql）方法完成数据添加操作，示例操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into user() values();&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> st.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;插入成功！！！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>CRUD操作-delete</p>
</blockquote>
<p>使用executeUpdate（String sql）方法完成数据删除操作，示例操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from user where id=1;&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> st.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;删除成功！！！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>CRUD操作-update</p>
</blockquote>
<p>使用executeUpdate（String sql）方法完成数据删除操作，示例操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update user set name=&#x27;&#x27; where name=&#x27;&#x27;;&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> st.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;更新成功！！！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>CRUD操作-read</p>
</blockquote>
<p>使用executeQuery（String sql）方法完成数据删除操作，示例操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from user where id=1;&quot;</span>;</span><br><span class="line"><span class="type">ResultSet</span> <span class="variable">resultset</span> <span class="operator">=</span> st.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(resultset.next())&#123;</span><br><span class="line">    <span class="comment">//根据获取列的数据类型，分别调用rs的响应方法映射到java中</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>代码实现</p>
</blockquote>
<p>1.提取工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tmous.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcUtils</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">driver</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> JdbcUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;db.properties&quot;</span>);</span><br><span class="line">            <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">            properties.load(in);</span><br><span class="line">            driver = properties.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">            url = properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">            username = properties.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">            password = properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">            <span class="comment">//1.驱动只需要加载一次</span></span><br><span class="line">            Class.forName(driver);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取连接</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(url,username,password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//释放连接资源</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">(Connection connection , Statement statement , ResultSet resultSet)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(resultSet!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(statement!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(connection!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// db.properties</span></span><br><span class="line">driver=com.mysql.cj.jdbc.Driver</span><br><span class="line">url=jdbc:mysql:<span class="comment">//127.0.0.1:3306/jdbcstudy?serverTimezone=UTC&amp;amp&amp;useSSL=false</span></span><br><span class="line">username=root</span><br><span class="line">password=<span class="number">123456</span></span><br></pre></td></tr></table></figure>



<p>2.编写增删改的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//增</span></span><br><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestInsert</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection(); <span class="comment">//获取数据库连接</span></span><br><span class="line">            statement = connection.createStatement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;INSERT INTO `users`(`id`,`name`,`password`,`email`,`birthday`)&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;VALUES (4,&#x27;chenliuhong&#x27;,&#x27;123456&#x27;,&#x27;chenliuhong@sina.com&#x27;,&#x27;1980-12-05&#x27;);&quot;</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> statement.executeUpdate(sql);</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入成功！&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection , statement , resultSet);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删</span></span><br><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDelete</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection(); <span class="comment">//获取数据库连接</span></span><br><span class="line">            statement = connection.createStatement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;DELETE FROM `users` WHERE `id` = 4;&quot;</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> statement.executeUpdate(sql);</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删出成功！&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删出失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection , statement , resultSet);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//改</span></span><br><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUpdate</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection(); <span class="comment">//获取数据库连接</span></span><br><span class="line">            statement = connection.createStatement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;UPDATE `users` SET `name`=&#x27;陈留红&#x27; WHERE `id` = 1;&quot;</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> statement.executeUpdate(sql);</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;修改成功！&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;修改失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection , statement , resultSet);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.查询的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.plaf.nimbus.State;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSelect</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//获取连接</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line">            statement = connection.createStatement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM `users`;\n&quot;</span>;</span><br><span class="line">            rs = statement.executeQuery(sql);</span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;id=&quot;</span>+rs.getObject(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">                System.out.println(<span class="string">&quot;name=&quot;</span>+rs.getObject(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">                System.out.println(<span class="string">&quot;password=&quot;</span>+rs.getObject(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">                System.out.println(<span class="string">&quot;email=&quot;</span>+rs.getObject(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">                System.out.println(<span class="string">&quot;birthday=&quot;</span>+rs.getObject(<span class="string">&quot;birthday&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection , statement , rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>sql注入的问题</p>
</blockquote>
<p>sql存在漏洞，会被攻击，导致泄漏 &#x3D;&#x3D;<strong>SQL会被拼接</strong>&#x3D;&#x3D;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">package com.tmous.test01;</span><br><span class="line"></span><br><span class="line">import com.tmous.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.sql.SQLException;</span><br><span class="line">import java.sql.Statement;</span><br><span class="line"></span><br><span class="line">public class SqlProblem &#123;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> void main(String[] args) &#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>login(&quot;陈留红&quot;,&quot;123456&quot;); <span class="operator">/</span><span class="operator">/</span> 正常登录</span><br><span class="line">        login(&quot;&#x27;or &#x27;1=1&quot; , &quot;123456&quot;);<span class="operator">/</span><span class="operator">/</span> 有技巧的输入</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>登录业务</span><br><span class="line">    public <span class="keyword">static</span> void login(String username , String password)&#123;</span><br><span class="line"></span><br><span class="line">        Connection connection <span class="operator">=</span> <span class="keyword">null</span>;</span><br><span class="line">        Statement statement <span class="operator">=</span> <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs <span class="operator">=</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>获取连接</span><br><span class="line">        try &#123;</span><br><span class="line">            connection <span class="operator">=</span> JdbcUtils.getConnection();</span><br><span class="line">            statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">            String <span class="keyword">sql</span> <span class="operator">=</span> &quot;SELECT * FROM `users` where name = &#x27;&quot;<span class="operator">+</span>username<span class="operator">+</span>&quot;&#x27;and password = &#x27;&quot;<span class="operator">+</span>password<span class="operator">+</span>&quot;&#x27;;&quot;;</span><br><span class="line">            rs <span class="operator">=</span> statement.executeQuery(<span class="keyword">sql</span>);</span><br><span class="line">            while(rs.next())&#123;</span><br><span class="line">                System.out.println(&quot;name=&quot;<span class="operator">+</span>rs.getObject(&quot;name&quot;));</span><br><span class="line">                System.out.println(&quot;password=&quot;<span class="operator">+</span>rs.getObject(&quot;password&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;finally &#123;</span><br><span class="line">            JdbcUtils.release(connection , statement , rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040129.png" alt="image-20200910161751298"></p>
<h3 id="10-5PreparedStatement"><a href="#10-5PreparedStatement" class="headerlink" title="10.5PreparedStatement"></a>10.5PreparedStatement</h3><p>PreparedStatement可以防止sql注入，并且效率更好。</p>
<blockquote>
<p>增删改代码</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 增</span></span><br><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestInserts</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//区别  ： 使用问号占位符代替参数</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span>  <span class="operator">=</span> <span class="string">&quot;INSERT INTO `users`(`id`,`name`,`password`,`email`,`birthday`) VALUES (?,?,?,?,?);&quot;</span>;</span><br><span class="line"></span><br><span class="line">            st = connection.prepareStatement(sql); <span class="comment">//预编译的sql</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//手动给参数赋值</span></span><br><span class="line">            st.setInt(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line">            st.setString(<span class="number">2</span>,<span class="string">&quot;老狗&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">3</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">4</span>,<span class="string">&quot;1844736@qq.com&quot;</span>);</span><br><span class="line">            st.setDate(<span class="number">5</span>, <span class="keyword">new</span> <span class="title class_">java</span>.sql.Date(<span class="keyword">new</span> <span class="title class_">java</span>.util.Date().getTime()));</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> st.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入成功！&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection , st , <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删</span></span><br><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDeletes</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//区别  ： 使用问号占位符代替参数</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span>  <span class="operator">=</span> <span class="string">&quot;delete from `users` where id=?&quot;</span>;</span><br><span class="line"></span><br><span class="line">            st = connection.prepareStatement(sql); <span class="comment">//预编译的sql</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//手动给参数赋值</span></span><br><span class="line">            st.setInt(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> st.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删出成功！&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删出失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection , st , <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//改</span></span><br><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUpdates</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//区别  ： 使用问号占位符代替参数</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span>  <span class="operator">=</span> <span class="string">&quot;update `users` set `name` = ? where id = ?&quot;</span>;</span><br><span class="line"></span><br><span class="line">            st = connection.prepareStatement(sql); <span class="comment">//预编译的sql</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//手动给参数赋值</span></span><br><span class="line">            st.setString(<span class="number">1</span>,<span class="string">&quot;小明&quot;</span>);</span><br><span class="line">            st.setInt(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> st.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;更新成功！&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;更新失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection , st , <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>防止sql注入</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tmous.test01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SqlProblems</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//login(&quot;lisi&quot;,&quot;123456&quot;); // 正常登录</span></span><br><span class="line">        login(<span class="string">&quot;&#x27;or &#x27;1=1&quot;</span> , <span class="string">&quot;123456&quot;</span>);<span class="comment">// 有技巧的输入</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//登录业务</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String username , String password)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">st</span> <span class="operator">=</span>  <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//获取连接</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM `users` where `name` = ? and `password` = ?;&quot;</span>;</span><br><span class="line">            st = connection.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line">            st.setString(<span class="number">1</span>,username);</span><br><span class="line">            st.setString(<span class="number">2</span>,password);</span><br><span class="line"></span><br><span class="line">            rs = st.executeQuery();</span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;name=&quot;</span>+rs.getObject(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">                System.out.println(<span class="string">&quot;password=&quot;</span>+rs.getObject(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection , st , rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>PreparedStatement防止sql注入的本质，把传递进来的参数当做字符，假设其中存在转义字符，就直接忽略，&#96;会被直接转义。</p>
<h3 id="10-7-使用IDEA连接数据库"><a href="#10-7-使用IDEA连接数据库" class="headerlink" title="10.7 使用IDEA连接数据库"></a>10.7 使用IDEA连接数据库</h3><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040709.png" alt="image-20200910225153205"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040359.png" alt="image-20200910225206964"></p>
<p>选择数据库</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040943.png" alt="image-20200910225421324"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040419.png" alt="image-20200910225436308"></p>
<p>更新数据</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040822.png" alt="image-20200910225557667"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040315.png" alt="image-20200910225809668"></p>
<p>如果mysql连接失败，下面的可能能帮助：</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/timoustop/PicGoSave/main/2026/typora/202601112040237.png" alt="image-20200910230649502"></p>
<h3 id="10-8事务"><a href="#10-8事务" class="headerlink" title="10.8事务"></a>10.8事务</h3><p>&#x3D;&#x3D;<strong>要么都成功要么都失败ACID</strong>&#x3D;&#x3D;</p>
<p>原子性： 要么全部完成，要么全部失败</p>
<p> 一致性： 总数不变</p>
<p>隔离性： 多个进程互不干扰</p>
<p>持久性： 一旦提交不可逆，持久化到数据库了</p>
<p>隔离性的问题：</p>
<p>脏读： 一个事务读取了另一个没有提交的事务</p>
<p>不可重复读： 在同一个事务内重复读取表中的数据，表数据发生了改变</p>
<p>虚读（幻读） ： 在一个事务内，读取到了别人插入的数据，导致前后读出来的数据不一致</p>
<blockquote>
<p>代码实现</p>
</blockquote>
<p>1.开启事务<code>conn.setAutoCommit(false);</code></p>
<p>2.一组业务执行完毕提交事务</p>
<p>3.可以在catch语句中显示的定义回滚语句，默认也是失败就会回滚的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Transaction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestTransaction2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn  = JdbcUtils.getConnection();</span><br><span class="line">            <span class="comment">//关闭数据库的自动提交,自动会开启事务</span></span><br><span class="line">            conn.setAutoCommit(<span class="literal">false</span>);<span class="comment">//开启事务</span></span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql1</span> <span class="operator">=</span> <span class="string">&quot;update `account` set `money` = `money` - 100 where `name` = &#x27;A&#x27;&quot;</span>;</span><br><span class="line">            st = conn.prepareStatement(sql1);</span><br><span class="line">            st.executeUpdate();</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">1</span>/<span class="number">0</span>; <span class="comment">// 报错 ，失败，自动回滚</span></span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql2</span> <span class="operator">=</span> <span class="string">&quot;update `account` set `money` = `money` + 100 where `name` = &#x27;B&#x27;&quot;</span>;</span><br><span class="line">            st = conn.prepareStatement(sql2);</span><br><span class="line">            st.executeUpdate();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//业务完毕，提交业务</span></span><br><span class="line">            conn.commit();</span><br><span class="line">            System.out.println(<span class="string">&quot;操作成功！！！&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="comment">//如果失败，则默认回滚</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                conn.rollback(); <span class="comment">// 如果失败，回滚事务</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException ex) &#123;</span><br><span class="line">                ex.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn , st , rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10-9数据库连接池"><a href="#10-9数据库连接池" class="headerlink" title="10.9数据库连接池"></a>10.9数据库连接池</h3><p>数据库连接—-执行完毕—–释放     连接—–释放是十分浪费系统资源的</p>
<p>&#x3D;&#x3D;池化技术：准备一些预先的资源，过来就连接预先准备好的&#x3D;&#x3D;</p>
<p>10 SQL    5个连接  直接拿到conn 不需要连接  用完释放</p>
<p>最小连接数： 5 10 100  按照需求</p>
<p>最大连接数： 10   业务最高承载上限超过的就排队等待</p>
<p>&#x3D;&#x3D;编写连接池需要 实现一个接口datasource&#x3D;&#x3D;</p>
<blockquote>
<p>开源数据源实现</p>
</blockquote>
<p>DBCP</p>
<p>C3P0</p>
<p>Druid： 阿里巴巴的</p>
<p>使用了这些数据库连接池之后，我们在项目开发的时候就不需要写数据库连接的代码了。</p>
<blockquote>
<p>DBCP</p>
</blockquote>
<p>需要用到的jar包<code> commons-dbcp-1.4</code> <code>commons-pool-1.6</code></p>
<p>dbcpconfig.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&lt;!-- 连接设置 --&gt;</span></span><br><span class="line"><span class="attr">driverClassName</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/jdbcstudy?serverTimezone=UTC&amp;amp&amp;useSSL=false</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#&lt;!--初始化连接  --&gt;</span></span><br><span class="line"><span class="attr">initialSize</span>=<span class="string">10</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#&lt;!--最大连接数量 --&gt;</span></span><br><span class="line"><span class="attr">maxActive</span>=<span class="string">50</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#&lt;!--最大空闲连接  --&gt;</span></span><br><span class="line"><span class="attr">maxIdle</span>=<span class="string">20</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#&lt;!--最小空闲连接--&gt;</span></span><br><span class="line"><span class="attr">minIdle</span>=<span class="string">5</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#&lt;!--超时等待时间以毫秒为单位--&gt;</span></span><br><span class="line"><span class="attr">maxWait</span>=<span class="string">60000</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#JDBC驱动建立时附带的连接属性的格式必须为  属性名=properties</span></span><br><span class="line"><span class="attr">connectionProperties</span>=<span class="string">useUnicode=true;characterEncoding=UTF8</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 指定由连接池所创建的连接的自动提交状态</span></span><br><span class="line"><span class="attr">defaultAutoCommit</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#driver default 指定由连接池所创建的连接的只读状态</span></span><br><span class="line"><span class="comment"># 如果没有设置该值 则setReadOnly 方法将不被调用</span></span><br><span class="line"><span class="attr">defaultReadOnly</span>=<span class="string"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># driver default 指定由连接池所创建的连接的事务的级别</span></span><br><span class="line"><span class="attr">defaultTransactionIsolation</span>=<span class="string">READ_UNCOMMITTED</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>DBCP帮助类</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tmous.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbcp.BasicDataSource;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbcp.BasicDataSourceFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcUtils_DBCP</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">DataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> JdbcUtils_DBCP.class.getClassLoader().getResourceAsStream(<span class="string">&quot;dbcpconfig.properties&quot;</span>);</span><br><span class="line">            <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">            properties.load(in);</span><br><span class="line">            <span class="comment">//创建数据源 工厂模式</span></span><br><span class="line">            dataSource = BasicDataSourceFactory.createDataSource(properties);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取连接</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="comment">//从数据源中获取连接</span></span><br><span class="line">        <span class="keyword">return</span> dataSource.getConnection();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//释放连接资源</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">(Connection connection , Statement statement , ResultSet resultSet)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(resultSet!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(statement!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(connection!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>测试DBCP</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> TestPool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils;</span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils_DBCP;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDbcp</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils_DBCP.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//区别  ： 使用问号占位符代替参数</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span>  <span class="operator">=</span> <span class="string">&quot;INSERT INTO `users`(`id`,`name`,`password`,`email`,`birthday`) VALUES (?,?,?,?,?);&quot;</span>;</span><br><span class="line"></span><br><span class="line">            st = connection.prepareStatement(sql); <span class="comment">//预编译的sql</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//手动给参数赋值</span></span><br><span class="line">            st.setInt(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line">            st.setString(<span class="number">2</span>,<span class="string">&quot;老狗&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">3</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">4</span>,<span class="string">&quot;1844736@qq.com&quot;</span>);</span><br><span class="line">            st.setDate(<span class="number">5</span>, <span class="keyword">new</span> <span class="title class_">java</span>.sql.Date(<span class="keyword">new</span> <span class="title class_">java</span>.util.Date().getTime()));</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> st.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入成功！&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils_DBCP.release(connection , st , <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>c3p0</p>
</blockquote>
<p><code>c3p0-0.9.5.5</code>,<code>mchange-commons-java-0.2.15</code>导入依赖的jar就行</p>
<p>&#x3D;&#x3D;帮助类：&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tmous.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbcp.BasicDataSourceFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcUtils_C3P0</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">ComboPooledDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            dataSource = <span class="keyword">new</span> <span class="title class_">ComboPooledDataSource</span>(<span class="string">&quot;MySQL&quot;</span>); <span class="comment">// 配置文件写法</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//代码版配置</span></span><br><span class="line"><span class="comment">//            dataSource = new ComboPooledDataSource();</span></span><br><span class="line"><span class="comment">//            dataSource.setDriverClass();</span></span><br><span class="line"><span class="comment">//            dataSource.setUser();</span></span><br><span class="line"><span class="comment">//            dataSource.setPassword();</span></span><br><span class="line"><span class="comment">//            dataSource.setJdbcUrl();</span></span><br><span class="line"><span class="comment">//            dataSource.setMaxPoolSize();</span></span><br><span class="line"><span class="comment">//            dataSource.setMinPoolSize();</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取连接</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="comment">//从数据源中获取连接</span></span><br><span class="line">        <span class="keyword">return</span> dataSource.getConnection();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//释放连接资源</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">(Connection connection , Statement statement , ResultSet resultSet)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(resultSet!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(statement!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(connection!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>c3po配置文件：c3p0-config.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">default-config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span>&gt;</span>jdbc:mysql://localhost:3306/jdbcstudy?useSSL=false<span class="symbol">&amp;amp;</span>serverTimezone=UTC<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireIncrement&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;initialPoolSize&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minPoolSize&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span>&gt;</span>20<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">default-config</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">named-config</span> <span class="attr">name</span>=<span class="string">&quot;MySQL&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span>&gt;</span>jdbc:mysql://localhost:3306/jdbcstudy?useSSL=false<span class="symbol">&amp;amp;</span>serverTimezone=UTC<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireIncrement&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;initialPoolSize&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minPoolSize&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span>&gt;</span>20<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">named-config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--  可以配置多套数据源  --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> TestPool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tmous.utils.JdbcUtils_C3P0;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestC3P0</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils_C3P0.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//区别  ： 使用问号占位符代替参数</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span>  <span class="operator">=</span> <span class="string">&quot;INSERT INTO `users`(`id`,`name`,`password`,`email`,`birthday`) VALUES (?,?,?,?,?);&quot;</span>;</span><br><span class="line"></span><br><span class="line">            st = connection.prepareStatement(sql); <span class="comment">//预编译的sql</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//手动给参数赋值</span></span><br><span class="line">            st.setInt(<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line">            st.setString(<span class="number">2</span>,<span class="string">&quot;老狗&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">3</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">4</span>,<span class="string">&quot;1844736@qq.com&quot;</span>);</span><br><span class="line">            st.setDate(<span class="number">5</span>, <span class="keyword">new</span> <span class="title class_">java</span>.sql.Date(<span class="keyword">new</span> <span class="title class_">java</span>.util.Date().getTime()));</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> st.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入成功！&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils_C3P0.release(connection , st , <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>结论</p>
</blockquote>
<p>无论是使用什么数据源，本质还是一样的，接口都是没变的（DataSource），方法就不会变，也就是测试类的代码基本都不会变</p>
<p>Druid: 阿里的数据源，比较高级的</p>
<p>—-业务级别的MySQL学习</p>
<p>有兴趣的人</p>
<p>—–运维级别My</p>

<div class="article-footer fs14">
    <section id="license">
      <div class="header"><span>授權條款</span></div>
      <div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div>
    </section>
    </div>
</article>
<div class="related-wrap" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">較新文章</div><a href="/2022/01/02/redis%E5%88%9D%E6%AD%A5%E5%AD%A6%E4%B9%A0/">redis初步学习</a></div><div class="item" id="next"><div class="note">較早文章</div><a href="/2021/12/31/java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">java基础知识</a></div></section></div>






<footer class="page-footer footnote"><hr><div class="text"><p>本站由 <a href="/">timous</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.28.0">Stellar 1.28.0</a> 主题创建。<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>
<div class="main-mask" onclick="sidebar.dismiss()"></div></div><aside class="l_right">
<div class="widgets">



<widget class="widget-wrapper toc" id="data-toc" collapse="false"><div class="widget-header dis-select"><span class="name">本文目錄</span><a class="cap-action" onclick="sidebar.toggleTOC()" ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></a></div><div class="widget-body"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL"><span class="toc-text">MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%88%9D%E5%A7%8BMySQL"><span class="toc-text">1、初始MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1.1为什么学习数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1.2什么是数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E7%B1%BB"><span class="toc-text">1.3数据库分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A-Excle%EF%BC%88SQL%EF%BC%89"><span class="toc-text">关系型数据库： Excle（SQL）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A-json-%EF%BC%88key-%EF%BC%9A-value%EF%BC%89%EF%BC%88NoSQL-%E4%B8%8D%E4%BB%85%E4%BB%85%E6%98%AFsql%EF%BC%89"><span class="toc-text">非关系型数据库： json  （key ： value）（NoSQL 不仅仅是sql）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4MySQL%E7%AE%80%E4%BB%8B"><span class="toc-text">1.4MySQL简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5%E5%AE%89%E8%A3%85MySQL"><span class="toc-text">1.5安装MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6%E6%97%A0%E8%84%91%E5%AE%89%E8%A3%85sqlyog"><span class="toc-text">1.6无脑安装sqlyog</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.操作数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%8C%E6%93%8D%E4%BD%9C%E4%B8%80%E9%81%8D%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%EF%BC%89"><span class="toc-text">2.1操作数据库（了解，操作一遍就可以了）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E5%88%97%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.2数据库的数据列类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AD%97%E6%AE%B5%E5%B1%9E%E6%80%A7%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">2.3数据库的字段属性（重点）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-text">2.4创建数据库表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.5数据表的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-text">2.6修改和删除表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-MySQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86"><span class="toc-text">3.MySQL的数据管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E5%A4%96%E9%94%AE%EF%BC%88%E4%BA%86%E8%A7%A3%E5%8D%B3%E5%8F%AF%EF%BC%89"><span class="toc-text">3.1外键（了解即可）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2DML%E8%AF%AD%E8%A8%80%EF%BC%88%E5%85%A8%E9%83%A8%E8%AE%B0%E4%BD%8F%EF%BC%89"><span class="toc-text">3.2DML语言（全部记住）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3%E6%B7%BB%E5%8A%A0%EF%BC%88insert%EF%BC%89"><span class="toc-text">3.3添加（insert）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4%E4%BF%AE%E6%94%B9%EF%BC%88update%EF%BC%89"><span class="toc-text">3.4修改（update）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5%E5%88%A0%E9%99%A4%EF%BC%88delete%EF%BC%89"><span class="toc-text">3.5删除（delete）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-DQL%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%EF%BC%88%E6%9C%80%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">4.DQL查询数据（最重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1DQL"><span class="toc-text">4.1DQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E6%8C%87%E5%AE%9A%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5"><span class="toc-text">4.2 指定查询字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3where%E6%9D%A1%E4%BB%B6%E5%AD%90%E5%8F%A5"><span class="toc-text">4.3where条件子句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4%E8%81%94%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">4.4联表查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5%E5%88%86%E9%A1%B5%E5%92%8C%E6%8E%92%E5%BA%8F"><span class="toc-text">4.5分页和排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">4.6子查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7%E5%88%86%E7%BB%84%E5%92%8C%E8%BF%87%E6%BB%A4"><span class="toc-text">4.7分组和过滤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8select%E5%B0%8F%E7%BB%93"><span class="toc-text">4.8select小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-MySQL%E5%87%BD%E6%95%B0"><span class="toc-text">5.MySQL函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%EF%BC%88%E5%B9%B6%E4%B8%8D%E5%B8%B8%E7%94%A8%EF%BC%89"><span class="toc-text">5.1常用函数（并不常用）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-text">5.2聚合函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BA%A7%E5%88%AB%E7%9A%84MD5%E5%8A%A0%E5%AF%86%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89"><span class="toc-text">5.3数据库级别的MD5加密（扩展）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BA%8B%E5%8A%A1"><span class="toc-text">6.事务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1"><span class="toc-text">6.1什么是事务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E7%B4%A2%E5%BC%95"><span class="toc-text">7.索引</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">7.1索引的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2%E6%B5%8B%E8%AF%95%E7%B4%A2%E5%BC%95"><span class="toc-text">7.2测试索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3%E7%B4%A2%E5%BC%95%E5%8E%9F%E5%88%99"><span class="toc-text">7.3索引原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD"><span class="toc-text">8.权限管理和数据库备份</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90"><span class="toc-text">8.1用户权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD"><span class="toc-text">8.2数据库备份</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-%E8%A7%84%E8%8C%83%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-text">9.规范数据库设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-1%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E8%AE%BE%E8%AE%A1%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">9.1为什么需要设计数据库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F"><span class="toc-text">9.2三大范式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-jdbc"><span class="toc-text">10.jdbc</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8"><span class="toc-text">10.1数据库驱动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2JDBC"><span class="toc-text">10.2JDBC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3%E7%AC%AC%E4%B8%80%E4%B8%AAJDBC%E7%A8%8B%E5%BA%8F"><span class="toc-text">10.3第一个JDBC程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-4Statement%E5%AF%B9%E8%B1%A1"><span class="toc-text">10.4Statement对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-5PreparedStatement"><span class="toc-text">10.5PreparedStatement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-7-%E4%BD%BF%E7%94%A8IDEA%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">10.7 使用IDEA连接数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-8%E4%BA%8B%E5%8A%A1"><span class="toc-text">10.8事务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-9%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-text">10.9数据库连接池</span></a></li></ol></li></ol></li></ol></div><div class="widget-footer">

<a class="top" onclick="util.scrollTop()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z"/><path stroke-linecap="round" stroke-linejoin="round" d="m9 15.5l3-3l3 3m-6-4l3-3l3 3"/></g></svg><span>回到頂部</span></a><a class="buttom" onclick="util.scrollComment()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M10.46 1.25h3.08c1.603 0 2.86 0 3.864.095c1.023.098 1.861.3 2.6.752a5.75 5.75 0 0 1 1.899 1.899c.452.738.654 1.577.752 2.6c.095 1.004.095 2.261.095 3.865v1.067c0 1.141 0 2.036-.05 2.759c-.05.735-.153 1.347-.388 1.913a5.75 5.75 0 0 1-3.112 3.112c-.805.334-1.721.408-2.977.43a10.81 10.81 0 0 0-.929.036c-.198.022-.275.054-.32.08c-.047.028-.112.078-.224.232c-.121.166-.258.396-.476.764l-.542.916c-.773 1.307-2.69 1.307-3.464 0l-.542-.916a10.605 10.605 0 0 0-.476-.764c-.112-.154-.177-.204-.224-.232c-.045-.026-.122-.058-.32-.08c-.212-.023-.49-.03-.93-.037c-1.255-.021-2.171-.095-2.976-.429A5.75 5.75 0 0 1 1.688 16.2c-.235-.566-.338-1.178-.389-1.913c-.049-.723-.049-1.618-.049-2.76v-1.066c0-1.604 0-2.86.095-3.865c.098-1.023.3-1.862.752-2.6a5.75 5.75 0 0 1 1.899-1.899c.738-.452 1.577-.654 2.6-.752C7.6 1.25 8.857 1.25 10.461 1.25M6.739 2.839c-.914.087-1.495.253-1.959.537A4.25 4.25 0 0 0 3.376 4.78c-.284.464-.45 1.045-.537 1.96c-.088.924-.089 2.11-.089 3.761v1c0 1.175 0 2.019.046 2.685c.045.659.131 1.089.278 1.441a4.25 4.25 0 0 0 2.3 2.3c.515.214 1.173.294 2.429.316h.031c.398.007.747.013 1.037.045c.311.035.616.104.909.274c.29.17.5.395.682.645c.169.232.342.525.538.856l.559.944a.52.52 0 0 0 .882 0l.559-.944c.196-.331.37-.624.538-.856c.182-.25.392-.476.682-.645c.293-.17.598-.24.909-.274c.29-.032.639-.038 1.037-.045h.032c1.255-.022 1.913-.102 2.428-.316a4.25 4.25 0 0 0 2.3-2.3c.147-.352.233-.782.278-1.441c.046-.666.046-1.51.046-2.685v-1c0-1.651 0-2.837-.089-3.762c-.087-.914-.253-1.495-.537-1.959a4.25 4.25 0 0 0-1.403-1.403c-.464-.284-1.045-.45-1.96-.537c-.924-.088-2.11-.089-3.761-.089h-3c-1.651 0-2.837 0-3.762.089" clip-rule="evenodd"/><path fill="currentColor" d="M9 11a1 1 0 1 1-2 0a1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0a1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0a1 1 0 0 1 2 0"/></svg><span>參與討論</span></a></div></widget>
</div></aside><div class='float-panel blur'>
  <button type='button' style='display:none' class='laptop-only rightbar-toggle mobile' onclick='sidebar.rightbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>
  </button>
  <button type='button' style='display:none' class='mobile-only leftbar-toggle mobile' onclick='sidebar.leftbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 11c0-3.771 0-5.657 1.172-6.828C4.343 3 6.229 3 10 3h4c3.771 0 5.657 0 6.828 1.172C22 5.343 22 7.229 22 11v2c0 3.771 0 5.657-1.172 6.828C19.657 21 17.771 21 14 21h-4c-3.771 0-5.657 0-6.828-1.172C2 18.657 2 16.771 2 13z"/><path id="sep" stroke-linecap="round" d="M5.5 10h6m-5 4h4m4.5 7V3"/></g></svg>
  </button>
</div>
</div><div class="scripts">
<script type="text/javascript">
  const ctx = {
    date_suffix: {
      just: `剛剛`,
      min: `分鐘前`,
      hour: `小時前`,
      day: `天前`,
    },
    root : `/`,
  };

  // required plugins (only load if needs)
  if (`local_search`) {
    ctx.search = {};
    ctx.search.service = `local_search`;
    if (ctx.search.service == 'local_search') {
      let service_obj = Object.assign({}, `{"field":"all","path":"/search.json","content":true,"sort":"-date"}`);
      ctx.search[ctx.search.service] = service_obj;
    }
  }
  const def = {
    avatar: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg`,
    cover: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg`,
  };
  const deps = {
    jquery: `https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js`,
    marked: `https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js`
  }
  

</script>

<script type="text/javascript">
  const utils = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    css: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    js: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = ctx.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    jq: (fn) => {
      if (typeof jQuery === 'undefined') {
        utils.js(deps.jquery).then(fn)
      } else {
        fn()
      }
    },
    
    onLoading: (el) => {
      if (el) {
        $(el).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>');
      }
    },
    onLoadSuccess: (el) => {
      if (el) {
        $(el).find('.loading-wrap').remove();
      }
    },
    onLoadFailure: (el) => {
      if (el) {
        $(el).find('.loading-wrap svg').remove();
        $(el).find('.loading-wrap').append('<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>');
        $(el).find('.loading-wrap').addClass('error');
      }
    },
    request: (el, url, callback, onFailure) => {
      let retryTimes = 3;
      utils.onLoading(el);
      function req() {
        return new Promise((resolve, reject) => {
          let status = 0; // 0 等待 1 完成 2 超时
          let timer = setTimeout(() => {
            if (status === 0) {
              status = 2;
              timer = null;
              reject('请求超时');
              if (retryTimes == 0) {
                onFailure();
              }
            }
          }, 5000);
          fetch(url).then(function(response) {
            if (status !== 2) {
              clearTimeout(timer);
              resolve(response);
              timer = null;
              status = 1;
            }
            if (response.ok) {
              return response.json();
            }
            throw new Error('Network response was not ok.');
          }).then(function(data) {
            retryTimes = 0;
            utils.onLoadSuccess(el);
            callback(data);
          }).catch(function(error) {
            if (retryTimes > 0) {
              retryTimes -= 1;
              setTimeout(() => {
                req();
              }, 5000);
            } else {
              utils.onLoadFailure(el);
              onFailure();
            }
          });
        });
      }
      req();
    },
  };
</script>

<script>
  const sidebar = {
    leftbar: () => {
      if (l_body) {
        l_body.toggleAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    rightbar: () => {
      if (l_body) {
        l_body.toggleAttribute('rightbar');
        l_body.removeAttribute('leftbar');
      }
    },
    dismiss: () => {
      if (l_body) {
        l_body.removeAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    toggleTOC: () => {
      document.querySelector('#data-toc').classList.toggle('collapse');
    }
  }
</script>

<!-- required -->
<script src="/js/main.js?v=1.28.0" async></script>

<!-- optional -->



<script defer>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.services = Object.assign({}, JSON.parse(`{"mdrender":{"js":"/js/services/mdrender.js"},"siteinfo":{"js":"/js/services/siteinfo.js","api":null},"ghinfo":{"js":"/js/services/ghinfo.js"},"sites":{"js":"/js/services/sites.js"},"friends":{"js":"/js/services/friends.js"},"timeline":{"js":"/js/services/timeline.js"},"fcircle":{"js":"/js/services/fcircle.js"},"weibo":{"js":"/js/services/weibo.js"},"memos":{"js":"/js/services/memos.js"}}`));
    for (let id of Object.keys(ctx.services)) {
      const js = ctx.services[id].js;
      if (id == 'siteinfo') {
        ctx.cardlinks = document.querySelectorAll('a.link-card[cardlink]');
        if (ctx.cardlinks?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            setCardLink(ctx.cardlinks);
          });
        }
      } else {
        const els = document.getElementsByClassName(`ds-${id}`);
        if (els?.length > 0) {
          utils.jq(() => {
            if (id == 'timeline' || 'memos' || 'marked') {
              utils.js(deps.marked).then(function () {
                utils.js(js, { defer: true });
              });
            } else {
              utils.js(js, { defer: true });
            }
          });
        }
      }
    }
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.search = {
      path: `/search.json`,
    }
    utils.js('/js/search/local-search.js', { defer: true });
  });
</script><script>
  window.FPConfig = {
    delay: 0,
    ignoreKeywords: [],
    maxRPS: 5,
    hoverDelay: 25
  };
</script>
<script defer src="https://cdn.bootcdn.net/ajax/libs/flying-pages/2.1.2/flying-pages.min.js"></script><script defer src="https://cdn.bootcdn.net/ajax/libs/vanilla-lazyload/17.8.4/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazy",
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    window.lazyLoadInstance?.update();
  });
</script><script>
  ctx.fancybox = {
    selector: `.timenode p>img`,
    css: `https://cdn.bootcdn.net/ajax/libs/fancyapps-ui/5.0.22/fancybox/fancybox.min.css`,
    js: `https://cdn.bootcdn.net/ajax/libs/fancyapps-ui/5.0.22/fancybox/fancybox.umd.min.js`
  };
  var selector = '[data-fancybox]:not(.error)';
  if (ctx.fancybox.selector) {
    selector += `, ${ctx.fancybox.selector}`
  }
  var needFancybox = document.querySelectorAll(selector).length !== 0;
  if (!needFancybox) {
    const els = document.getElementsByClassName('ds-memos');
    if (els != undefined && els.length > 0) {
      needFancybox = true;
    }
  }
  if (needFancybox) {
    utils.css(ctx.fancybox.css);
    utils.js(ctx.fancybox.js, { defer: true }).then(function () {
      Fancybox.bind(selector, {
        hideScrollbar: false,
        Thumbs: {
          autoStart: false,
        },
        caption: (fancybox, slide) => {
          return slide.triggerEl.alt || null
        }
      });
    })
  }
</script><script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const swiper_api = document.getElementById('swiper-api');
    if (swiper_api != undefined) {
      utils.css(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.css`);
      utils.js(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.js`, { defer: true }).then(function () {
        const effect = swiper_api.getAttribute('effect') || '';
        var swiper = new Swiper('.swiper#swiper-api', {
          slidesPerView: 'auto',
          spaceBetween: 8,
          centeredSlides: true,
          effect: effect,
          rewind: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      })
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    window.codeElements = document.querySelectorAll('.code');
    if (window.codeElements.length > 0) {
      ctx.copycode = {
        default_text: `Copy`,
        success_text: `Copied`,
        toast: `复制成功`,
      };
      utils.js('/js/plugins/copycode.js');
    }
  });
</script>


<!-- inject -->

</div></body></html>
